<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Vue</title>
    <script src="https://cdn.staticfile.org/vue/3.2.36/vue.global.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
   
  </head>
  <body>
    
    <script>
      

      /* axios配置 请求-处理-响应*/
      axios.defaults.timeout = 2000; /*响应时间*/
      axios.defaults.headers.post['Content-Type'] =
        'application/x-www-form-urlencoded;charset=UTF-8'; // 配置post请求头
      axios.defaults.headers.get['Content-Type'] =
        'application/json;charset=UTF-8'; // 配置get请求头
      axios.defaults.baseURL = 'http://www.syf.com'; // 配置接口地址
      // POST传参序列化(添加请求拦截器)
      // axios.interceptors.request.use(
      //   (config) => {
      //     // 在发送请求之前做某件事
      //     if (config.method === 'post') {
      //       // 这里使用qs对数据进行处理，防止后台$_POST接收不到
      //       config.data = qs.stringify(config.data);
      //     }
      //     return config;
      //   },
      //   (error) => {
      //     console.log('错误的传参', 'fail');
      //     return Promise.reject(error);
      //   }
      // );

      let params = {
        name: 'Master',
        son: [
          {
            proName: '电路板',
            index: 0,
          },
          {
            proName: '电源',
            index: 1,
          },
        ],
      };
      
      axios
        .post('http://www.syf.com/learn.php', params)
        .then(
          (response) => {
            console.log(response);
          },
          (err) => {
            console.log(err);
          }
        )
        .catch((error) => {
          console.log(error);
        });

        // Vue.prototype.$http = axios; 
    </script>
  </body>
</html>
