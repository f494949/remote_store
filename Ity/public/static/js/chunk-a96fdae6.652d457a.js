(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a96fdae6","chunk-48916f50","chunk-0aef899e","chunk-525aee26","chunk-30ca8599","chunk-12e5dae0","chunk-2d0e5357","chunk-2d2105d3","chunk-2d20902b","chunk-2d230fe7","chunk-2d0e9591"],{"0415":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.$t("permission.name"))+"："+e._s(e.$t("permission.help.nameText")))]),a("div",[e._v(e._s(e.$t("permission.path"))+"："+e._s(e.$t("permission.help.pathText")))]),a("div",[e._v(" "+e._s(e.$t("permission.component"))+"："+e._s(e.$t("permission.help.componentText"))+" "),a("div",{staticClass:"margin-l"},[e._v(e._s(e.$t("permission.help.componentText1"))+" "),a("el-tag",{attrs:{effect:"plain",size:"mini"}},[e._v("layout/Layout")])],1),a("div",{staticClass:"margin-l"},[e._v(e._s(e.$t("permission.help.componentText2"))+" "),a("el-tag",{attrs:{effect:"plain",size:"mini"}},[e._v("rview")])],1)]),a("div",[e._v(e._s(e.$t("permission.hidden"))+"："+e._s(e.$t("permission.help.nav")))]),a("el-divider",{attrs:{"content-position":"left"}}),a("div",[e._v(e._s(e.$t("permission.help.proposal"))+"：")]),a("div",[e._v(e._s(e.$t("permission.help.proposalText")))]),a("div",[e._v(" "+e._s(e.$t("permission.help.example"))+"："+e._s(e.$t("permission.help.exampleText"))+" "),a("div",[a("div",{staticClass:"margin-s-l"},[e._v(e._s(e.$t("permission.name"))+"："),a("el-tag",{attrs:{effect:"plain",size:"mini"}},[e._v("permission.create")])],1),a("div",{staticClass:"margin-s-l"},[e._v(e._s(e.$t("permission.path"))+"："),a("el-tag",{attrs:{effect:"plain",size:"mini"}},[e._v("permission/create")])],1),a("div",{staticClass:"margin-s-l"},[e._v(e._s(e.$t("permission.component"))+"："),a("el-tag",{attrs:{effect:"plain",size:"mini"}},[e._v("permission/create")])],1)])])],1)},n=[],r={name:"Help"},i=r,s=(a("8d78"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"a9c2e35a",null);t["default"]=l.exports},"0625":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:e.transitionName}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"back-to-ceiling",style:e.customStyle,on:{click:e.backToTop}},[a("svg",{staticClass:"Icon Icon--backToTopArrow",staticStyle:{height:"16px",width:"16px"},attrs:{width:"16",height:"16",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"}},[a("path",{attrs:{d:"M12.036 15.59a1 1 0 0 1-.997.995H5.032a.996.996 0 0 1-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z"}})])])])},n=[],r=(a("a9e3"),{name:"BackToTop",props:{visibilityHeight:{type:Number,default:400},backPosition:{type:Number,default:0},customStyle:{type:Object,default:function(){return{right:"50px",bottom:"50px",width:"40px",height:"40px","border-radius":"4px","line-height":"45px",background:"#e7eaf1"}}},transitionName:{type:String,default:"fade"}},data:function(){return{visible:!1,interval:null,isMoving:!1}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),this.interval&&clearInterval(this.interval)},methods:{handleScroll:function(){this.visible=window.pageYOffset>this.visibilityHeight},backToTop:function(){var e=this;if(!this.isMoving){var t=window.pageYOffset,a=0;this.isMoving=!0,this.interval=setInterval((function(){var o=Math.floor(e.easeInOutQuad(10*a,t,-t,500));o<=e.backPosition?(window.scrollTo(0,e.backPosition),clearInterval(e.interval),e.isMoving=!1):window.scrollTo(0,o),a++}),16.7)}},easeInOutQuad:function(e,t,a,o){return(e/=o/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t}}}),i=r,s=(a("e7be"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"053f1ae1",null);t["a"]=l.exports},"0a7f":function(e,t,a){},"0b23":function(e,t,a){},"0b8b":function(e,t,a){"use strict";a("b4f6")},"0fd3":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-alert",{attrs:{closable:!1,type:""}},[a("template",{slot:"default"},[e._v(" "+e._s(e.$t("file.help.title"))+"： "),a("ol",[a("li",[e._v(e._s(e.$t("file.help.li1")))]),a("li",[a("el-tag",{attrs:{type:"danger"}},[e._v("/")]),e._v(" "+e._s(e.$t("file.help.li2.text1"))+" "),a("el-tag",{attrs:{type:"danger"}},[e._v("/")]),e._v(" "+e._s(e.$t("file.help.li2.text2"))+" "),a("el-tag",{attrs:{type:"danger"}},[e._v("\\")]),e._v(" "+e._s(e.$t("file.help.li2.text3"))+" "),a("el-tag",{attrs:{type:"danger"}},[e._v("/")])],1),a("li",[e._v(e._s(e.$t("file.help.li3.text1"))+" "),a("el-tag",{attrs:{type:"danger"}},[e._v("..")]),e._v(" "+e._s(e.$t("file.help.li3.text2")))],1),a("li",[e._v(e._s(e.$t("file.help.li4")))])])])],2)],1)},n=[],r={name:"Help"},i=r,s=(a("e946"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"1be14b54",null);t["default"]=l.exports},"0feb":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c}));var o=a("b775");function n(e){return Object(o["a"])({url:"/permission/tree",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/permission/create",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/permission/update",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/permission",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/permission/drop",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/permission/delete",method:"post",data:e})}},"126a":function(e,t,a){"use strict";a("3b34")},1297:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"permission.create",expression:"'permission.create'"}],attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.createVisible=!0}}},[e._v(e._s(e.$t("common.create"))+" ")])],1),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:e.$t("permission.keywords")},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.getTree}})],1)],1),a("el-col",{staticClass:"margin-t-5",attrs:{span:24}},[a("el-tooltip",{attrs:{content:e.$t("permission.startSortText"),placement:"left"}},[a("el-switch",{directives:[{name:"permission",rawName:"v-permission",value:"permission.update",expression:"'permission.update'"}],staticClass:"fr",attrs:{"active-text":e.$t("permission.sort")},on:{change:e.sortHandle},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1)],1),a("el-col",{staticClass:"margin-t-5",attrs:{span:24}},[a("div",{staticClass:"block"},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tree",attrs:{"empty-text":e.$t("common.emptyText"),data:e.data,props:e.defaultProps,"node-key":"id","default-expand-all":e.expand,"filter-node-method":e.filterNode,"expand-on-click-node":!1,draggable:e.sort},on:{"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,n=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[a("e-icon",{attrs:{"icon-name":n.icon}}),e._v(" "+e._s(o.label)+" "),a("small",{staticClass:"color-909"},[e._v(e._s(n.name))])],1),a("span",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"permission.create",expression:"'permission.create'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.createSubPermission(n)}}},[e._v(" "+e._s(e.$t("permission.addSon"))+" ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"permission.update",expression:"'permission.update'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.update(n)}}},[e._v(" "+e._s(e.$t("common.update"))+" ")]),a("el-popconfirm",{directives:[{name:"permission",rawName:"v-permission",value:"permission.delete",expression:"'permission.delete'"}],attrs:{title:e.$t("common.confirmDelete"),"confirm-button-text":e.$t("common.confirmButtonText"),"cancel-button-text":e.$t("common.cancelButtonText")},on:{onConfirm:function(t){return e.remove(n)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v(" "+e._s(e.$t("common.delete"))+" ")])],1)],1)])}}])})],1)])],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"add",visible:e.createVisible},on:{"update:visible":function(t){e.createVisible=t}}},[a("template",{slot:"title"},[e._v(" "+e._s(e.$t("common.create"))+" "),a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[a("el-alert",{attrs:{closable:!1,type:"info","show-icon":""}},[a("template",{slot:"default"},[a("help")],1)],2),a("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-edit"},slot:"reference"},[e._v(" "+e._s(e.$t("common.help"))+" ")])],1)],1),a("create",{attrs:{success:e.success,pid:e.pid}})],2),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"add",visible:e.updateVisible},on:{"update:visible":function(t){e.updateVisible=t}}},[a("template",{slot:"title"},[e._v(" "+e._s(e.$t("common.update"))+" "),a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[a("el-alert",{attrs:{closable:!1,type:"info","show-icon":""}},[a("template",{slot:"default"},[a("help")],1)],2),a("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-edit"},slot:"reference"},[e._v(e._s(e.$t("common.help")))])],1)],1),a("update",{attrs:{id:e.updateId,success:e.success}})],2)],1)},n=[],r=(a("4de4"),a("d3b7"),a("4e82"),a("0feb")),i=a("7f1b"),s=a("d02c"),l=a("0415"),c={name:"Permissions",components:{create:i["default"],update:s["default"],help:l["default"]},data:function(){return{data:[],defaultProps:{children:"children",label:"title"},filterText:"",loading:!0,createVisible:!1,pid:0,updateId:0,updateVisible:!1,sort:!1,expand:!0}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){this.getTree()},methods:{getTree:function(){var e=this;this.loading=!0,this.data=[],Object(r["e"])({guard_name:"admin"}).then((function(t){e.loading=!1,e.data=t.data.tree})).catch((function(t){e.loading=!1}))},success:function(){this.pid=0,this.updateId=0,this.createVisible=!1,this.updateVisible=!1,this.getTree()},update:function(e){var t=e.id;this.updateId=t,this.updateVisible=!0},createSubPermission:function(e){this.pid=e.id,this.createVisible=!0},remove:function(e){var t=this,a=e.id;Object(r["b"])({id:a}).then((function(e){t.$message({message:e.message,type:"success"}),t.getTree()}))},filterNode:function(e,t){return!e||-1!==t.title.indexOf(e)},handleDrop:function(e,t,a,o){var n=this;Object(r["c"])({dragging:e.key,drop:t.key,type:a}).then((function(e){n.getTree(),n.$message({message:e.message,type:"success"})}))},sortHandle:function(e){this.sort=e}}},m=c,d=(a("6512"),a("2877")),u=Object(d["a"])(m,o,n,!1,null,"124fab95",null);t["default"]=u.exports},"171f":function(e,t,a){},"1a27":function(e,t,a){"use strict";a("a5e5")},"1d62":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","label-position":"top"}},[a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.dingtalk.open"),prop:"open",error:e.error.open?e.error.open[0]:""}},[a("el-switch",{model:{value:e.form.open,callback:function(t){e.$set(e.form,"open",t)},expression:"form.open"}})],1),a("el-form-item",{attrs:{label:e.$t("system.dingtalk.need_permissions")}},[a("el-tag",[e._v("申请个人手机号信息")]),a("el-tag",{staticClass:"margin-l-5"},[e._v("通讯录个人信息读权限")]),a("el-tag",{staticClass:"margin-l-5"},[e._v("成员信息读权限")]),a("el-tag",{staticClass:"margin-l-5"},[e._v("企业员工手机号信息")]),a("el-tag",{staticClass:"margin-l-5"},[e._v("邮箱等个人信息")])],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.dingtalk.client_id"),prop:"client_id",error:e.error.client_id?e.error.client_id[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.client_id,callback:function(t){e.$set(e.form,"client_id",t)},expression:"form.client_id"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.dingtalk.client_secret"),prop:"client_secret",error:e.error.client_secret?e.error.client_secret[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"200","show-word-limit":""},model:{value:e.form.client_secret,callback:function(t){e.$set(e.form,"client_secret",t)},expression:"form.client_secret"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.dingtalk.corp_id"),prop:"corp_id",error:e.error.corp_id?e.error.corp_id[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"200","show-word-limit":""},model:{value:e.form.corp_id,callback:function(t){e.$set(e.form,"corp_id",t)},expression:"form.corp_id"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.dingtalk.redirect_uri"),prop:"redirect_uri",error:e.error.redirect_uri?e.error.redirect_uri[0]:""}},[a("el-alert",{attrs:{title:"https://domain.com/#/login  钉钉管理后台 -> 工作台 -> 应用管理 -> 应用 -> 应用功能 -> 登录与分享 请填写此项 (domain.com替换为正式地址)",type:"warning",closable:!1}}),a("el-input",{staticClass:"margin-t-5",attrs:{clearable:"",maxlength:"200","show-word-limit":""},model:{value:e.form.redirect_uri,callback:function(t){e.$set(e.form,"redirect_uri",t)},expression:"form.redirect_uri"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.dingtalk.redirect_bind_uri"),prop:"redirect_bind_uri",error:e.error.redirect_bind_uri?e.error.redirect_bind_uri[0]:""}},[a("el-alert",{attrs:{title:"https://domain.com/#/profile/index  钉钉管理后台 -> 工作台 -> 应用管理 -> 应用 -> 应用功能 -> 登录与分享 请填写此项 (domain.com替换为正式地址)",type:"warning",closable:!1}}),a("el-input",{staticClass:"margin-t-5",attrs:{clearable:"",maxlength:"200","show-word-limit":""},model:{value:e.form.redirect_bind_uri,callback:function(t){e.$set(e.form,"redirect_bind_uri",t)},expression:"form.redirect_bind_uri"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.create}},[e._v(e._s(e.$t("common.submit")))])],1)],1)},n=[],r=(a("d3b7"),a("159b"),a("8593")),i={name:"dingTalkLogin",data:function(){return{form:{open:!1,client_id:"",client_secret:"",corp_id:"",redirect_uri:"",redirect_bind_uri:""},error:{},loading:!1}},mounted:function(){this.getConfig()},methods:{getConfig:function(){var e=this;Object(r["c"])({type:"dingTalk"}).then((function(t){var a=t.data.config,o={};a.forEach((function(e){"open"===e.key?o.open="1"===e.value:o[e.key]=e.value})),e.form=o}))},create:function(){var e=this;this.loading=!0,this.error={},Object(r["b"])(this.form).then((function(t){e.$message({message:t.message,type:"success"})})).catch((function(t){var a=t.response.data;422===a.code&&(e.error=a.data)})).finally((function(){e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"023d7bef",null);t["default"]=c.exports},"1db4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved ")]),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pic-404"},[o("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),o("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),o("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),o("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],r={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},i=r,s=(a("b057"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"384570f0",null);t["default"]=l.exports},"1fb9":function(e,t,a){"use strict";a("0b23")},2017:function(e,t,a){"use strict";a("cafe")},"24e2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" Oops! ")]),e._v(" gif来源"),a("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面 "),a("h2",[e._v("你没有权限去该页面")]),a("h6",[e._v("如有不满请联系你领导")]),a("ul",{staticClass:"list-unstyled"},[a("li",[e._v("或者你可以去:")]),a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/dashboard"}},[e._v(" 回首页 ")])],1),a("li",{staticClass:"link-type"},[a("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},n=[],r=a("cc6c"),i=a.n(r),s={name:"Page401",data:function(){return{errGif:i.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},l=s,c=(a("1a27"),a("2877")),m=Object(c["a"])(l,o,n,!1,null,"35ca77fc",null);t["default"]=m.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2957:function(e,t,a){"use strict";a("53ec")},"29f2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,"modal-append-to-body":"","append-to-body":"",center:"","close-on-click-modal":!1,width:"90%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-edit-outline"}),e._v(" "+e._s(e.$t("common.update"))+" ")]),a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:e.$t("genTable.name"),prop:"name",error:e.error.name}},[e._v(" "+e._s(e.form.name)+" ")])],1),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("genTable.comment"),prop:"comment",error:e.error.comment}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("genTable.pid"),prop:"pid",error:e.error.pid}},[a("el-col",{attrs:{span:18}},[e.permission.length>0?a("el-cascader",{style:{width:"100%"},attrs:{options:e.permission,props:e.props,placeholder:e.$t("genTable.pid_placeholder"),clearable:"","show-all-levels":"",filterable:""},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}}):e._e()],1),a("el-col",{attrs:{span:5,offset:1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("genTable.confirm_message"),placement:"left"}},[a("el-button",{attrs:{type:"primary",loading:e.genLoading},on:{click:e.handleGen}},[e._v(e._s(e.$t("genTable.gen")))])],1)],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-table",{ref:"table",attrs:{data:e.form.gen_table_columns,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("genTable.table.name"),width:"100"}}),a("el-table-column",{attrs:{prop:"comment",label:e.$t("genTable.table.comment"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.comment,callback:function(a){e.$set(t.row,"comment",a)},expression:"scope.row.comment"}})]}}])}),a("el-table-column",{attrs:{prop:"type",label:e.$t("genTable.table.type"),width:"100"}}),a("el-table-column",{attrs:{prop:"_required",label:e.$t("genTable.table._required"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._required,callback:function(a){e.$set(t.row,"_required",a)},expression:"scope.row._required"}})]}}])}),a("el-table-column",{attrs:{prop:"_insert",label:e.$t("genTable.table._insert"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._insert,callback:function(a){e.$set(t.row,"_insert",a)},expression:"scope.row._insert"}})]}}])}),a("el-table-column",{attrs:{prop:"_update",label:e.$t("genTable.table._update"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._update,callback:function(a){e.$set(t.row,"_update",a)},expression:"scope.row._update"}})]}}])}),a("el-table-column",{attrs:{prop:"_list",label:e.$t("genTable.table._list"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._list,callback:function(a){e.$set(t.row,"_list",a)},expression:"scope.row._list"}})]}}])}),a("el-table-column",{attrs:{prop:"_select",label:e.$t("genTable.table._select"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._select,callback:function(a){e.$set(t.row,"_select",a)},expression:"scope.row._select"}})]}}])}),a("el-table-column",{attrs:{prop:"_query",label:e.$t("genTable.table._query")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("genTable.table.select")},model:{value:t.row._query,callback:function(a){e.$set(t.row,"_query",a)},expression:"scope.row._query"}},e._l(e.select,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"_show",label:e.$t("genTable.table._show")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("genTable.table.select")},on:{change:function(a){return e.handleChangeShow(t.row)}},model:{value:t.row._show,callback:function(a){e.$set(t.row,"_show",a)},expression:"scope.row._show"}},e._l(e.type,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"dict_type_id",label:e.$t("genTable.table.dict_type_id")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("genTable.table.select"),clearable:"",filterable:""},on:{change:function(a){return e.handleChangeDict(t.row)}},model:{value:t.row.dict_type_id,callback:function(a){e.$set(t.row,"dict_type_id",a)},expression:"scope.row.dict_type_id"}},e._l(e.dict,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"_unique",label:e.$t("genTable.table._unique"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._unique,callback:function(a){e.$set(t.row,"_unique",a)},expression:"scope.row._unique"}})]}}])}),a("el-table-column",{attrs:{prop:"_foreign",label:e.$t("genTable.table._foreign"),width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row._foreign,callback:function(a){e.$set(t.row,"_foreign",a)},expression:"scope.row._foreign"}})]}}])}),a("el-table-column",{attrs:{prop:"_foreign",label:e.$t("genTable.table._foreign_table")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("genTable.table.select"),clearable:"",filterable:""},model:{value:t.row._foreign_table,callback:function(a){e.$set(t.row,"_foreign_table",a)},expression:"scope.row._foreign_table"}},e._l(e.tables,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name+"("+e.comment+")",value:e.name}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"_foreign",label:e.$t("genTable.table._foreign_column")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("genTable.table.select"),clearable:"",filterable:""},model:{value:t.row._foreign_column,callback:function(a){e.$set(t.row,"_foreign_column",a)},expression:"scope.row._foreign_column"}},e._l(t.row._foreign_table?e.tables.find((function(e){return e.name===t.row._foreign_table})).info.columns:[],(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"_foreign",label:e.$t("genTable.table._foreign_show_column")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("genTable.table.select"),clearable:"",filterable:""},model:{value:t.row._foreign_show,callback:function(a){e.$set(t.row,"_foreign_show",a)},expression:"scope.row._foreign_show"}},e._l(t.row._foreign_table?e.tables.find((function(e){return e.name===t.row._foreign_table})).info.columns:[],(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)]}}])})],1)],1)],1),a("template",{slot:"footer"},[a("el-button",{staticClass:"margin-t-10",attrs:{type:"primary",loading:e.loading},on:{click:e.handleUpdate}},[e._v(e._s(e.$t("common.submit")))])],1)],2)},n=[],r=(a("d3b7"),a("7db0"),a("4de4"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("74b1")),i=a("ed08"),s={name:"genTable.update",components:{},data:function(){return{dialogVisible:!1,form:{gen_table_columns:[]},error:{},loading:!1,dict:[],dictData:[],permission:[],select:[],type:[],tables:[],props:{value:"id",label:"title",checkStrictly:!0},genLoading:!1}},methods:{init:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["f"])({id:e}).then((function(e){t.form=e.data,Object(r["a"])().then((function(e){var a=e.data,o=a.dict,n=void 0===o?[]:o,r=a.dictData,i=void 0===r?[]:r,s=a.permission,l=void 0===s?[]:s,c=a.select,m=void 0===c?[]:c,d=a.type,u=void 0===d?[]:d,f=a.tables,p=void 0===f?[]:f;t.dict=n,t.dictData=i,t.permission=l,t.select=m,t.type=u,t.tables=p,t.dialogVisible=!0})).finally((function(){a.close()}))})).catch((function(e){a.close()}))},handleChangeDict:function(e){if(e.dict_type_id){e.default=null;var t=this.dictData.filter((function(t){return t.dict_type_id===e.dict_type_id})).find((function(e){return 1===e.default}));void 0!==t&&(e.default=t.value),e._query="=",e._show="select",e._validate="string",e._select=!0,e._unique=!1,e._foreign=!1,e._foreign_table=null,e._foreign_column=null,e._foreign_show=null}},handleChangeShow:function(e){e._show&&Object(i["d"])(e._show,["file","editor","image"])&&(e._select=!1,e._validate="string",e.dict_type_id=null,e._unique=!1,"editor"===e._show&&(e._list=!1))},handleUpdate:function(){var e=this;this.loading=!0,this.error={},Object(r["h"])(this.form).then((function(t){e.$message({showClose:!0,message:t.message,type:"success"}),e.$emit("done",t.data)})).catch((function(t){var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()})).finally((function(t){e.loading=!1}))},handleGen:function(){var e=this;this.genLoading=!0,this.error={},Object(r["c"])(this.form).then((function(t){var a=t.data.path,o=void 0===a?"":a;Object(r["b"])({file:o}).then((function(e){var t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.click()})).catch((function(t){var a=t.response.data,o=new FileReader;o.readAsText(a),o.onload=function(){var t=JSON.parse(o.result),a=t.message;e.$message({showClose:!0,type:"error",message:a})}})).finally((function(t){e.genLoading=!1}))})).catch((function(t){e.genLoading=!1;var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"f7bbc886",null);t["default"]=m.exports},"2fcb":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("common.update"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleUpdate(t)}}},[a("el-form-item",{attrs:{label:e.$t("dictType.name"),prop:"name",error:e.error.name}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.type"),prop:"type",error:e.error.type}},[a("el-input",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.status"),prop:"status",error:e.error.status}},[a("el-switch",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.remark"),prop:"remark",error:e.error.remark}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)},n=[],r=(a("d3b7"),a("25f0"),a("b705")),i={name:"dict.update",data:function(){return{dialogVisible:!1,loading:!1,form:{},error:{}}},methods:{init:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["g"])({id:e}).then((function(e){t.dialogVisible=!0;var a=e.data;a.status=1===a.status,t.form=a})).finally((function(e){a.close()}))},handleUpdate:function(){var e=this;this.loading=!0,this.error={},!0===this.form.status?this.form.status=1:this.form.status=0,Object(r["j"])(this.form).then((function(t){e.$message({showClose:!0,message:t.message,type:"success"}),e.$emit("updateDone",t.data)})).catch((function(t){var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()})).finally((function(t){e.form.status=1===e.form.status,e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"5dc161d6",null);t["default"]=c.exports},3225:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"search",attrs:{inline:!0,model:e.search}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v(e._s(e.$t("common.create")))])],1),a("el-form-item",{attrs:{label:e.$t("dictType.name"),prop:"name"}},[a("el-input",{attrs:{placeholder:e.$t("dictType.name")},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.type"),prop:"type"}},[a("el-input",{attrs:{placeholder:e.$t("dictType.type")},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.status"),prop:"status"}},[a("el-select",{attrs:{placeholder:e.$t("dictType.status")},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},[a("el-option",{attrs:{label:e.$t("dictType.status_all"),value:""}}),a("el-option",{attrs:{label:e.$t("dictType.status_1"),value:1}}),a("el-option",{attrs:{label:e.$t("dictType.status_0"),value:0}})],1)],1),a("el-form-item",[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{loading:e.loading},on:{click:e.resetForm}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.data,"default-sort":{prop:e.search.sort,order:e.search.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("dictType.name"),sortable:""}}),a("el-table-column",{attrs:{prop:"type",label:e.$t("dictType.type"),sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(a){return e.handleDictData(t.row)}}},[e._v(e._s(t.row.type))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:e.$t("dictType.status"),sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-tag",[e._v(e._s(e.$t("dictType.status_1")))]):a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("dictType.status_0")))])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:e.$t("dictType.remark"),sortable:""}}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),sortable:"",formatter:e.rTime}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(e._s(e.$t("common.update")))]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.search.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("Create",{ref:"Create",on:{createDone:e.getList}}),a("Update",{ref:"Update",on:{updateDone:e.getList}}),a("DictData",{ref:"DictData"})],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("ac1f"),a("841c"),a("4e82"),a("b705")),i=a("ed08"),s={name:"dict",components:{Create:function(){return Promise.resolve().then(a.bind(null,"7756"))},Update:function(){return Promise.resolve().then(a.bind(null,"2fcb"))},DictData:function(){return Promise.resolve().then(a.bind(null,"55bf"))}},data:function(){return{search:{offset:1,limit:10,order:"descending",sort:"created_at",start_at:"",end_at:"",name:"",type:"",status:""},data:[],total:0,loading:!1}},mounted:function(){this.getList()},methods:{rTime:function(e,t){return Object(i["g"])(e[t.property])},handleSizeChange:function(e){this.search.limit=e,this.getList()},handleCurrentChange:function(e){this.search.offset=e,this.getList()},tableSortChange:function(e){this.search.order=e.order?e.order:"descending",this.search.sort=e.prop,this.search.offset=1,this.getList()},onSubmit:function(){this.search.offset=1,this.getList()},resetForm:function(e){this.$refs.search.resetFields(),this.search.offset=1,this.getList()},getList:function(){var e=this;this.loading=!0,Object(r["k"])(this.search).then((function(t){var a=t.data,o=a.data,n=void 0===o?[]:o,r=a.total,i=void 0===r?0:r;e.data=n,e.total=i})).finally((function(t){e.loading=!1}))},handleCreate:function(){this.$refs.Create.init()},handleEdit:function(e){var t=e.id;this.$refs.Update.init(t)},handleDelete:function(e){var t=this,a=e.id;this.$confirm(this.$t("common.confirmDelete"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirmButtonText"),cancelButtonText:this.$t("common.cancelButtonText"),type:"warning"}).then((function(){var e=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["i"])({id:a}).then((function(e){t.$message({showClose:!0,message:e.message,type:"success"}),t.getList()})).finally((function(t){e.close()}))})).catch((function(){}))},handleDictData:function(e){var t=e.id;this.$refs.DictData.init(t)}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"75379922",null);t["default"]=m.exports},"393e":function(e,t,a){},"3b34":function(e,t,a){},"3cce":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.files,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("file.name")}}),a("el-table-column",{attrs:{prop:"size",label:e.$t("file.size")}}),a("el-table-column",{attrs:{prop:"lastModified",label:e.$t("file.lastModified"),formatter:e.rTime}}),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return e.getFile(t.row.name)}}},[e._v(" "+e._s(e.$t("common.details"))+" ")])]}}])}),a("el-table-column",{attrs:{align:"right"}},[a("template",{slot:"header"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.getFiles}})],1)],2)],1)],1)],1),a("el-drawer",{attrs:{title:e.title,"with-header":!1,visible:e.drawer,direction:e.direction,size:"80%","before-close":e.handleClose},on:{"update:visible":function(t){e.drawer=t}}},[a("el-row",[a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.title))]),a("el-col",{staticClass:"file-info",style:{height:e.offsetHeight+"px"},attrs:{span:24}},[a("pre",[e._v(e._s(e.file))])])],1)],1)],1)},n=[],r=a("ed08"),i=a("dcff"),s={name:"exceptionError.logFiles",data:function(){return{files:[],file:"",title:"",loading:!0,drawer:!1,direction:"rtl",offsetHeight:0}},mounted:function(){this.getFiles()},methods:{getFiles:function(){var e=this;this.loading=!0,this.files=[],Object(i["c"])({}).then((function(t){var a=t.data.files;e.files=a,e.loading=!1})).catch((function(t){e.loading=!1}))},getFile:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["b"])({file:e}).then((function(o){a.close();var n=o.data.file;t.title=e,t.file=n,t.drawer=!0,t.offsetHeight=document.body.offsetHeight-50})).catch((function(e){a.close()}))},handleClose:function(e){this.title="",this.file="",e()},rTime:function(e,t){return Object(r["g"])(e[t.property])}}},l=s,c=(a("126a"),a("2877")),m=Object(c["a"])(l,o,n,!1,null,"620856f5",null);t["default"]=m.exports},"3ea5":function(e,t,a){},"4c6c":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"file.upload",expression:"'file.upload'"}],attrs:{type:"primary"},on:{click:function(t){e.uploadDrawer=!0}}},[e._v(e._s(e.$t("file.uploadFile")))]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"file.makeDirectory",expression:"'file.makeDirectory'"}],on:{click:function(t){e.makeDirectoryDrawer=!0}}},[e._v(e._s(e.$t("file.makeDirectory")))]),a("el-button",{attrs:{loading:e.loading},on:{click:e.getList}},[e._v(e._s(e.$t("common.refresh")))]),a("el-dropdown",{staticClass:"margin-l-10"},[a("el-button",{attrs:{id:"el-button-disable",disabled:""}},[e._v(" "+e._s(e.$t("common.batchHandle"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"file.download",expression:"'file.download'"}]},[a("span",{on:{click:e.downloadAll}},[e._v(e._s(e.$t("common.download")))])]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"file.delete",expression:"'file.delete'"}]},[a("span",{on:{click:e.fileDeleteAll}},[e._v(e._s(e.$t("common.delete")))])])],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:e.$t("file.search"),"suffix-icon":"el-icon-search"},on:{input:e.getList},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",selectable:e.checkSelect,width:"55"}}),a("el-table-column",{attrs:{label:"",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return["path"===t.row.type?a("el-link",{staticClass:"el-icon-back",staticStyle:{"font-size":"16px"},attrs:{type:"primary",underline:!1},on:{click:function(a){return e.setPath(t.row,t.row.name.length-2)}}}):a("span",{class:"oss-rc-icon-file file-"+t.row.pathinfo.extension})]}}])}),a("el-table-column",{attrs:{label:e.$t("file.name"),prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary",underline:!1}},["file"===t.row.type?a("span",{on:{click:function(a){return e.setPath(t.row,0)}}},[e._v(e._s(t.row.pathinfo.basename))]):"directory"===t.row.type?a("span",{on:{click:function(a){return e.setPath(t.row,0)}}},[e._v(e._s(t.row.name))]):"path"===t.row.type?a("span",[a("el-breadcrumb",{attrs:{separator:"/"}},e._l(t.row.name,(function(o,n){return a("el-breadcrumb-item",{key:n},[a("span",{on:{click:function(a){return e.setPath(t.row,n)}}},[e._v(e._s(o))])])})),1)],1):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"size",label:e.$t("file.size"),width:"100"}}),a("el-table-column",{attrs:{prop:"lastModified",label:e.$t("file.lastModified"),formatter:e.rTime,width:"200"}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"show",rawName:"v-show",value:"directory"===t.row.type,expression:"scope.row.type === 'directory'"}]},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"file.deleteDirectory",expression:"'file.deleteDirectory'"}],attrs:{type:"text"},on:{click:function(a){return e.directoryDelete(t.row)}}},[e._v(" "+e._s(e.$t("common.delete"))+" ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"file"===t.row.type,expression:"scope.row.type === 'file'"}]},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.setPath(t.row,0)}}},[e._v(e._s(e.$t("common.details")))]),a("el-dropdown",{staticStyle:{"margin-left":"15px"}},[a("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("common.more"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"file.download",expression:"'file.download'"}]},[a("span",{on:{click:function(a){return e.download(t.row)}}},[e._v(e._s(e.$t("common.download")))])]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"file.delete",expression:"'file.delete'"}]},[a("span",{on:{click:function(a){return e.fileDelete(t.row)}}},[e._v(e._s(e.$t("common.delete")))])])],1)],1)],1)]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[25,50,75,100],"page-size":25,"current-page":e.offset,"hide-on-single-page":!0,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-drawer",{attrs:{visible:e.uploadDrawer,"with-header":!1,size:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.uploadDrawer=t}}},[a("uploadFile",{ref:"uploadFileRef",attrs:{directory:e.directory}})],1),a("el-drawer",{attrs:{visible:e.makeDirectoryDrawer,"with-header":!1,size:"30%"},on:{"update:visible":function(t){e.makeDirectoryDrawer=t}}},[a("el-row",[a("el-col",{staticClass:"app-container",attrs:{span:24}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.makeDirectory},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("help")],1),a("el-form-item",{attrs:{label:e.$t("file.directoryName"),error:e.error.directory?e.error.directory[0]:""}},[a("el-input",{attrs:{type:"text",minlength:"1",maxlength:"60","show-word-limit":""},model:{value:e.makeDirectory.name,callback:function(t){e.$set(e.makeDirectory,"name",t)},expression:"makeDirectory.name"}})],1),a("el-form-item",[a("el-button",{staticClass:"margin-t-10",attrs:{type:"primary",loading:e.makeDirectoryDrawerLoading},on:{click:e.makeDirectoryHandle}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)],1)],1),a("el-drawer",{attrs:{visible:e.fileInfoDrawer,"with-header":!1,size:"40%"},on:{"update:visible":function(t){e.fileInfoDrawer=t}}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-image",{attrs:{fit:"contain",src:e.fileInfoDrawerData.url}},[a("div",{staticStyle:{height:"100%"},attrs:{slot:"error"},slot:"error"},[a("div",{staticClass:"image-slot"},[e._v(" "+e._s(e.$t("file.NSCTP"))+" ")])]),a("div",{staticStyle:{height:"100%"},attrs:{slot:"placeholder"},slot:"placeholder"},[a("div",{staticClass:"image-slot"},[e._v(" "+e._s(e.$t("common.loading"))+" ")])])])],1),a("el-col",{staticClass:"app-container",attrs:{span:24}},[a("el-form",{attrs:{"label-position":"right"}},[a("el-form-item",{attrs:{label:e.$t("file.name")}},[e._v(" "+e._s(e.fileInfoDrawerData.name)+" "),a("el-link",{staticClass:"fr",attrs:{type:"primary",underline:!1},on:{click:function(t){return e.copy(e.fileInfoDrawerData.name)}}},[e._v(e._s(e.$t("common.copy")))])],1),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{attrs:{type:"textarea",readonly:"",resize:"none",autosize:{minRows:2,maxRows:4}},model:{value:e.fileInfoDrawerData.url,callback:function(t){e.$set(e.fileInfoDrawerData,"url",t)},expression:"fileInfoDrawerData.url"}}),a("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"file.download",expression:"'file.download'"}],attrs:{type:"primary",underline:!1},on:{click:function(t){return e.download(e.fileInfoDrawerData)}}},[e._v(e._s(e.$t("common.download")))]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"file.delete",expression:"'file.delete'"}],attrs:{type:"primary",underline:!1},on:{click:function(t){return e.fileDelete(e.fileInfoDrawerData)}}},[e._v(e._s(e.$t("common.delete")))])],1),a("el-form-item",{attrs:{label:e.$t("file.type")}},[e._v(" "+e._s(e.fileInfoDrawerData.pathinfo?e.fileInfoDrawerData.pathinfo.extension:"")+" ")])],1)],1)],1)],1)],1)},n=[],r=(a("ac1f"),a("841c"),a("a15b"),a("fb6a"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("159b"),a("3f5e")),i=a("0fd3"),s=a("a39b"),l=a("a78e"),c=a.n(l),m=a("5c96"),d=a("ed08"),u={name:"file.files",components:{help:i["default"],uploadFile:s["default"]},data:function(){return{tableData:[],directory:"/",loading:!0,search:"",fileInfoDrawer:!1,fileInfoDrawerData:{},multipleSelection:[],total:0,offset:0,length:25,makeDirectoryDrawer:!1,makeDirectoryDrawerLoading:!1,makeDirectory:{name:""},error:{},uploadDrawer:!1}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["e"])({directory:this.directory,offset:this.offset,length:this.length,search:this.search}).then((function(t){var a=t.data,o=a.data,n=a.total;e.tableData=o,e.total=n,e.loading=!1})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0}))},handleSizeChange:function(e){this.length=e,this.getList()},handleCurrentChange:function(e){this.offset=e,this.getList()},checkSelect:function(e,t){var a=!0;return a="file"===e.type,a},setPath:function(e,t){"file"===e.type?(this.fileInfoDrawerData=e,this.fileInfoDrawer=!0):"path"===e.type?(this.offset=0,this.length=25,this.directory=0===t?"/":"/"+e.name.slice(1,t+1).join("/")+"/",this.getList()):"directory"===e.type&&(this.offset=0,this.length=25,this.directory=this.directory+e.name,this.getList())},handleSelectionChange:function(e){var t=c.a.get("size")||"medium",a=0===e.length?"is-disabled":"";document.getElementById("el-button-disable").disabled=0===e.length,document.getElementById("el-button-disable").className="el-button el-button--default el-button--"+t+" el-dropdown-selfdefine "+a,this.multipleSelection=e},download:function(e){var t=this.$loading({lock:!0,text:"Downloading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["c"])({file:e.name}).then((function(a){t.close();var o=new Blob([a]),n=document.createElement("a");n.download=e.pathinfo.basename,n.style.display="none",n.href=URL.createObjectURL(o),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)})).catch((function(e){t.close();var a=e.response;Object(m["Message"])({message:a.statusText,type:"error",duration:5e3})}))},fileDelete:function(e){var t=this;this.$confirm(this.$t("file.deleteFilesTipsText"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirmButtonText"),cancelButtonText:this.$t("common.cancelButtonText"),type:"warning"}).then((function(){var a=[];a.push(e.name),Object(r["b"])({paths:a}).then((function(e){t.$message({type:"success",message:e.message}),t.fileInfoDrawer=!1,t.getList()}))})).catch((function(){}))},directoryDelete:function(e){var t=this;this.$confirm(this.$t("file.deleteDirectoryTipsText"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirmButtonText"),cancelButtonText:this.$t("common.cancelButtonText"),type:"warning"}).then((function(){t.loading=!0,Object(r["a"])({directory:t.directory+e.name}).then((function(e){t.$message({type:"success",message:e.message}),t.getList()})).catch((function(){t.getList()}))})).catch((function(){}))},downloadAll:function(){var e=this,t=this.$refs.multipleTable.store.states.selection;t.forEach((function(t){e.download(t)}))},fileDeleteAll:function(){var e=this;this.$confirm(this.$t("file.deleteFilesTipsText"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirmButtonText"),cancelButtonText:this.$t("common.cancelButtonText"),type:"warning"}).then((function(){e.loading=!0;var t=[],a=e.$refs.multipleTable.store.states.selection;a.forEach((function(e){t.push(e.name)})),Object(r["b"])({paths:t}).then((function(t){e.$message({type:"success",message:t.message}),e.fileInfoDrawer=!1,e.getList()}))})).catch((function(){}))},copy:function(e){var t=e,a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("Copy"),this.$message({message:this.$t("common.copySuccess"),type:"success"}),a.remove()},makeDirectoryHandle:function(){var e=this;this.makeDirectoryDrawerLoading=!0,Object(r["f"])({directory:this.directory+this.makeDirectory.name}).then((function(t){e.$message({type:"success",message:t.message}),e.makeDirectoryDrawer=!1,e.makeDirectory.name="",e.error={},e.getList()})).catch((function(t){var a=t.response.data;422===a.code&&(e.error=a.data)})).finally((function(){e.makeDirectoryDrawerLoading=!1}))},handleClose:function(e){this.getList(),this.$refs.uploadFileRef.clearFiles(),e()},rTime:function(e,t){return Object(d["g"])(e[t.property])}}},f=u,p=(a("0b8b"),a("2877")),h=Object(p["a"])(f,o,n,!1,null,"f05ed408",null);t["default"]=h.exports},"4cd1":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"formInline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"admin.create",expression:"'admin.create'"}],attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.createVisible=!0}}},[e._v(" "+e._s(e.$t("common.create"))+" ")])],1),a("el-form-item",{attrs:{label:e.$t("admin.name"),prop:"name"}},[a("el-input",{attrs:{placeholder:e.$t("admin.name")},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.email"),prop:"email"}},[a("el-input",{attrs:{placeholder:e.$t("admin.email")},model:{value:e.formInline.email,callback:function(t){e.$set(e.formInline,"email",t)},expression:"formInline.email"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.status"),prop:"status"}},[a("el-select",{attrs:{placeholder:e.$t("admin.status")},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:e.$t("notification.all"),value:""}}),a("el-option",{attrs:{label:e.$t("admin.status1Text"),value:1}}),a("el-option",{attrs:{label:e.$t("admin.status0Text"),value:0}})],1)],1),a("el-form-item",{attrs:{label:e.$t("admin.roles"),prop:"role_ids"}},[a("el-select",{attrs:{multiple:"",placeholder:e.$t("admin.roles")},model:{value:e.formInline.role_ids,callback:function(t){e.$set(e.formInline,"role_ids",t)},expression:"formInline.role_ids"}},e._l(e.roles,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("common.createTime"),prop:"time"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"~","start-placeholder":e.$t("common.startTime"),"end-placeholder":e.$t("common.endTime"),align:"right"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),a("el-col",[a("el-form-item",[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.resetForm("formInline")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)],1),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,"default-sort":{prop:e.sort,order:e.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("admin.name"),sortable:""}}),a("el-table-column",{attrs:{prop:"email",label:e.$t("admin.email"),sortable:""}}),a("el-table-column",{attrs:{label:e.$t("admin.roles")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.role_names.length>3?[e._l(t.row.role_names.slice(0,2),(function(t,o){return a("el-tag",{key:o,staticClass:"el-tags"},[e._v(e._s(t))])})),a("el-link",{staticClass:"margin-l-5 margin-t-5 see-more-text",attrs:{type:"primary",underline:!1},on:{click:function(a){return e.seeMoreRole(t.row.role_names)}}},[e._v(" "+e._s(e.$t("common.seeMore"))+" ")])]:e._l(t.row.role_names,(function(t,o){return a("el-tag",{key:o,staticClass:"el-tags"},[e._v(e._s(t))])}))]}}])}),a("el-table-column",{attrs:{prop:"status",label:e.$t("admin.status"),sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("admin.status1Text")))]):a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("admin.status0Text")))])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"600px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"role.syncRoles",expression:"'role.syncRoles'"}],attrs:{icon:"el-icon-setting",type:"primary"},on:{click:function(a){return e.syncRoles(t.row)}}},[e._v(" "+e._s(e.$t("admin.syncRoles"))+" ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"admin.syncPermissions",expression:"'admin.syncPermissions'"}],attrs:{icon:"el-icon-setting",type:"primary"},on:{click:function(a){return e.syncPermissions(t.row)}}},[e._v(" "+e._s(e.$t("admin.syncPermissions"))+" ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"admin.update",expression:"'admin.update'"}],attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(" "+e._s(e.$t("common.update"))+" ")]),a("el-popconfirm",{directives:[{name:"permission",rawName:"v-permission",value:"admin.delete",expression:"'admin.delete'"}],attrs:{title:e.$t("common.confirmDelete"),"confirm-button-text":e.$t("common.confirmButtonText"),"cancel-button-text":e.$t("common.cancelButtonText")},on:{onConfirm:function(a){return e.handleDelete(t.row.id)}}},[a("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",type:"danger"},slot:"reference"},[e._v(" "+e._s(e.$t("common.delete"))+" ")])],1)]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("common.create"),visible:e.createVisible},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"createForm",attrs:{model:e.createForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("admin.name"),prop:"name",error:e.createError.name?e.createError.name[0]:""}},[a("el-input",{model:{value:e.createForm.name,callback:function(t){e.$set(e.createForm,"name",t)},expression:"createForm.name"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.email"),prop:"email",error:e.createError.email?e.createError.email[0]:""}},[a("el-input",{model:{value:e.createForm.email,callback:function(t){e.$set(e.createForm,"email",t)},expression:"createForm.email"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.password"),prop:"password",error:e.createError.password?e.createError.password[0]:""}},[a("el-input",{attrs:{"show-password":""},model:{value:e.createForm.password,callback:function(t){e.$set(e.createForm,"password",t)},expression:"createForm.password"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.status"),prop:"status",error:e.createError.status?e.createError.status[0]:""}},[a("el-radio-group",{model:{value:e.createForm.status,callback:function(t){e.$set(e.createForm,"status",t)},expression:"createForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("admin.status1Text")))]),a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("admin.status0Text")))])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:function(t){return e.onCreate("createForm")}}},[e._v(e._s(e.$t("common.submit")))]),a("el-button",{on:{click:function(t){return e.resetCreateForm("createForm")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("common.update"),visible:e.updateVisible},on:{"update:visible":function(t){e.updateVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("admin.name"),prop:"name",error:e.updateError.name?e.updateError.name[0]:""}},[a("el-input",{model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.email"),prop:"email",error:e.updateError.email?e.updateError.email[0]:""}},[a("el-input",{model:{value:e.updateForm.email,callback:function(t){e.$set(e.updateForm,"email",t)},expression:"updateForm.email"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.password"),prop:"password",error:e.updateError.password?e.updateError.password[0]:""}},[a("el-input",{attrs:{"show-password":"",placeholder:e.$t("admin.emptyPasswordText")},model:{value:e.updateForm.password,callback:function(t){e.$set(e.updateForm,"password",t)},expression:"updateForm.password"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.status"),prop:"status",error:e.updateError.status?e.updateError.status[0]:""}},[a("el-radio-group",{model:{value:e.updateForm.status,callback:function(t){e.$set(e.updateForm,"status",t)},expression:"updateForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("admin.status1Text")))]),a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("admin.status0Text")))])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.updateLoading},on:{click:function(t){return e.onUpdate("updateForm")}}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.syncRolesTitle,visible:e.syncRolesVisible},on:{"update:visible":function(t){e.syncRolesVisible=t}}},[a("sync-role",{attrs:{id:e.syncRolesId,success:e.success}})],1),a("el-dialog",{attrs:{title:e.syncPermissionsTitle,visible:e.syncPermissionsVisible},on:{"update:visible":function(t){e.syncPermissionsVisible=t}}},[a("sync-permission",{attrs:{id:e.syncPermissionsId,success:e.syncPermissionSuccess}})],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"see-more-tag",attrs:{title:e.$t("common.seeMore"),visible:e.seeMoreRolesVisible,"before-close":e.seeMoreRolesClose},on:{"update:visible":function(t){e.seeMoreRolesVisible=t}}},e._l(e.seeMoreRoles,(function(t,o){return a("el-tag",{key:o},[e._v(e._s(t))])})),1)],1)},n=[],r=(a("d3b7"),a("4e82"),a("b0c0"),a("ed08")),i=a("50fc"),s=a("cc5e"),l=a("5c1b"),c=a("ac76"),m={name:"admin.admins",components:{SyncRole:l["default"],SyncPermission:c["default"]},data:function(){return{createForm:{name:"",email:"",password:"",status:1},updateForm:{name:"",email:"",password:"",status:0},formInline:{name:"",email:"",status:"",role_ids:"",time:""},total:0,loading:!0,order:"descending",sort:"created_at",offset:0,limit:10,tableData:[],roles:[],pickerOptions:{shortcuts:[{text:this.$t("common.week"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.oneMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.threeMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},createError:{},createLoading:!1,createVisible:!1,updateError:{},updateLoading:!1,updateVisible:!1,updateId:0,syncRolesId:0,syncRolesVisible:!1,syncRolesTitle:"",syncPermissionsId:0,syncPermissionsVisible:!1,syncPermissionsTitle:"",seeMoreRoles:[],seeMoreRolesVisible:!1}},mounted:function(){this.getRoles(),this.getAdmins()},methods:{onUpdate:function(e){var t=this;this.updateError={},this.updateLoading=!0,""===this.updateForm.password&&delete this.updateForm.password,Object(i["j"])(this.updateForm).then((function(e){t.$message({message:e.message,type:"success"}),t.updateVisible=!1,t.getAdmins()})).catch((function(e){var a=e.response.data;422===a.code&&(t.updateError=a.data)})).finally((function(){t.updateLoading=!1}))},onCreate:function(e){var t=this;this.createError={},this.createLoading=!0,Object(i["c"])(this.createForm).then((function(a){t.$message({message:a.message,type:"success"}),t.resetCreateForm(e),t.createVisible=!1,t.offset=0,t.getAdmins()})).catch((function(e){var a=e.response.data;422===a.code&&(t.createError=a.data)})).finally((function(){t.createLoading=!1}))},resetCreateForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){this.offset=0,this.getAdmins()},resetForm:function(e){this.$refs[e].resetFields(),this.offset=0,this.getAdmins()},tableSortChange:function(e){this.order=e.order?e.order:"descending",this.sort=e.prop,this.offset=0,this.getAdmins()},getRoles:function(){var e=this;Object(s["a"])({guard_name:"admin"}).then((function(t){e.roles=t.data.roles})).catch((function(t){e.roles=[]}))},getAdmins:function(){var e=this;this.loading=!0;var t={offset:this.offset,limit:this.limit,order:this.order,sort:this.sort,name:this.formInline.name,email:this.formInline.email,status:this.formInline.status,guard_name:"admin"};this.formInline.role_ids.length>0&&(t["role_ids"]=this.formInline.role_ids),""!==Object(r["g"])(this.formInline.time[0])&&(t["start_at"]=Object(r["g"])(this.formInline.time[0])),""!==Object(r["g"])(this.formInline.time[1])&&(t["end_at"]=Object(r["g"])(this.formInline.time[1])),Object(i["b"])(t).then((function(t){var a=t.data;e.loading=!1,e.tableData=a.admins,e.total=a.total})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0}))},handleSizeChange:function(e){this.limit=e,this.getAdmins()},handleCurrentChange:function(e){this.offset=e,this.getAdmins()},rTime:function(e,t){return Object(r["g"])(e[t.property])},handleDelete:function(e){var t=this,a=this.$loading({lock:!0,text:this.$t("common.loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["d"])({id:e}).then((function(e){t.$message({message:e.message,type:"success"}),t.getAdmins()})).finally((function(){a.close()}))},handleEdit:function(e){var t=this,a=this.$loading({lock:!0,text:this.$t("common.loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.updateError={},Object(i["a"])({id:e.id}).then((function(e){var a=e.data;t.updateVisible=!0,t.updateForm=a})).finally((function(){a.close()}))},syncRoles:function(e){var t=e.id,a=e.name;this.syncRolesId=t,this.syncRolesVisible=!0,this.syncRolesTitle=a},success:function(){this.syncRolesId=0,this.syncRolesVisible=!1,this.getAdmins()},syncPermissions:function(e){var t=e.id,a=e.name;this.syncPermissionsId=t,this.syncPermissionsVisible=!0,this.syncPermissionsTitle=a},syncPermissionSuccess:function(){this.syncPermissionsId=0,this.syncPermissionsVisible=!1,this.getAdmins()},seeMoreRole:function(e){this.seeMoreRoles=e,this.seeMoreRolesVisible=!0},seeMoreRolesClose:function(){this.seeMoreRoles=[],this.seeMoreRolesVisible=!1}}},d=m,u=(a("649c"),a("2877")),f=Object(u["a"])(d,o,n,!1,null,"46633f53",null);t["default"]=f.exports},"4d14":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pic-404"},[o("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),o("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),o("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),o("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],r={name:"Page503",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},i=r,s=(a("71c0"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"47c51f62",null);t["default"]=l.exports},5134:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,"modal-append-to-body":"","append-to-body":"",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" "+e._s(e.$t("common.create"))+" ")]),a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.handleCreate(t)}}},[a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("genTable.select_table"),prop:"table",error:e.error.table}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:e.$t("genTable.name")}}),a("el-table-column",{attrs:{prop:"comment",label:e.$t("genTable.comment")}}),a("el-table-column",{attrs:{prop:"engine",label:e.$t("genTable.engine")}}),a("el-table-column",{attrs:{prop:"charset",label:e.$t("genTable.charset")}}),a("el-table-column",{attrs:{prop:"collation",label:e.$t("genTable.collation")}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:0===e.tableData.length,loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.$t("common.submit")))]),a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],2)},n=[],r=(a("d3b7"),a("d81d"),a("b0c0"),a("25f0"),a("74b1")),i={name:"genTable.create",components:{},data:function(){return{dialogVisible:!1,form:{table:[]},error:{},loading:!1,tableLoading:!1,tableData:[]}},methods:{init:function(){this.dialogVisible=!0,this.getImportTables()},getImportTables:function(){var e=this;this.tableLoading=!0,Object(r["i"])().then((function(t){e.tableData=t.data.list})).finally((function(){e.tableLoading=!1}))},close:function(){this.resetForm()},resetForm:function(){this.$refs.form.resetFields(),this.$refs.table.clearSelection()},handleCreate:function(){var e=this;this.loading=!0,this.error={},this.form.table=this.$refs.table.selection.map((function(e){return e.name})),Object(r["d"])(this.form).then((function(t){e.$message({showClose:!0,message:t.message,type:"success"}),e.resetForm(),e.$emit("done",t.data)})).catch((function(t){var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()})).finally((function(t){e.getImportTables(),e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"52156f5f",null);t["default"]=c.exports},"53ec":function(e,t,a){},"55bf":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("dictData.title"),visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-form",{ref:"search",attrs:{inline:!0,model:e.search}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v(e._s(e.$t("common.create")))])],1),a("el-form-item",{attrs:{label:e.$t("dictData.label"),prop:"label"}},[a("el-input",{attrs:{placeholder:e.$t("dictData.label")},model:{value:e.search.label,callback:function(t){e.$set(e.search,"label",t)},expression:"search.label"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.value"),prop:"type"}},[a("el-input",{attrs:{placeholder:e.$t("dictData.value")},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.status"),prop:"status"}},[a("el-select",{attrs:{placeholder:e.$t("dictData.status")},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},[a("el-option",{attrs:{label:e.$t("dictData.status_all"),value:""}}),a("el-option",{attrs:{label:e.$t("dictData.status_1"),value:1}}),a("el-option",{attrs:{label:e.$t("dictData.status_0"),value:0}})],1)],1),a("el-form-item",{attrs:{label:e.$t("dictData.default"),prop:"default"}},[a("el-select",{attrs:{placeholder:e.$t("dictData.default")},model:{value:e.search.default,callback:function(t){e.$set(e.search,"default",t)},expression:"search.default"}},[a("el-option",{attrs:{label:e.$t("dictData.default_all"),value:""}}),a("el-option",{attrs:{label:e.$t("dictData.default_1"),value:1}}),a("el-option",{attrs:{label:e.$t("dictData.default_0"),value:0}})],1)],1),a("el-form-item",[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{loading:e.loading},on:{click:e.resetForm}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.data}},[a("el-table-column",{attrs:{prop:"label",label:e.$t("dictData.label")}}),a("el-table-column",{attrs:{prop:"value",label:e.$t("dictData.value")}}),a("el-table-column",{attrs:{prop:"sort",label:e.$t("dictData.sort")}}),a("el-table-column",{attrs:{prop:"default",label:e.$t("dictData.default")},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.default?a("el-tag",[e._v(e._s(e.$t("dictData.default_1")))]):a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("dictData.default_0")))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:e.$t("dictData.status")},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-tag",[e._v(e._s(e.$t("dictData.status_1")))]):a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("dictData.status_0")))])]}}])}),a("el-table-column",{attrs:{prop:"listClassData",label:e.$t("dictData.list_class")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.listClassData?a("el-tag",{attrs:{type:t.row.listClassData.value}},[e._v(e._s(t.row.listClassData.name))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"remark",label:e.$t("dictData.remark")}}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),formatter:e.rTime}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),formatter:e.rTime}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(e._s(e.$t("common.update")))]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1)],1),a("div",{staticClass:"margin-t-10"},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.search.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("Create",{ref:"Create",on:{createDone:e.getList}}),a("Update",{ref:"Update",on:{updateDone:e.getList}})],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("ac1f"),a("841c"),a("d81d"),a("7db0"),a("ed08")),i=a("b705"),s={name:"data.index",components:{Create:function(){return Promise.resolve().then(a.bind(null,"f70d"))},Update:function(){return Promise.resolve().then(a.bind(null,"c783"))}},data:function(){return{search:{dict_type_id:0,offset:1,limit:10,order:"descending",sort:"sort",start_at:"",end_at:"",label:"",value:"",default:"",status:""},data:[],total:0,loading:!1,dialogVisible:!1,listClass:[]}},methods:{init:function(e){this.search.dict_type_id=e,this.dialogVisible=!0,this.dictDataListClass()},dictDataListClass:function(){var e=this;Object(i["e"])().then((function(t){var a=t.data.list,o=void 0===a?[]:a;e.listClass=o})).finally((function(t){e.getList()}))},rTime:function(e,t){return Object(r["g"])(e[t.property])},handleSizeChange:function(e){this.search.limit=e,this.getList()},handleCurrentChange:function(e){this.search.offset=e,this.getList()},onSubmit:function(){this.search.offset=1,this.getList()},resetForm:function(e){this.$refs.search.resetFields(),this.search.offset=1,this.getList()},getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.search).then((function(t){var a=t.data,o=a.data,n=void 0===o?[]:o,r=a.total,i=void 0===r?0:r;n.map((function(t){t.listClassData=e.listClass.find((function(e){return e.value===t.list_class}))})),e.data=n,e.total=i})).finally((function(t){e.loading=!1}))},handleCreate:function(){this.$refs.Create.init(this.search.dict_type_id)},handleEdit:function(e){var t=e.id;this.$refs.Update.init(t)},handleDelete:function(e){var t=this,a=e.id;this.$confirm(this.$t("common.confirmDelete"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirmButtonText"),cancelButtonText:this.$t("common.cancelButtonText"),type:"warning"}).then((function(){var e=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["c"])({id:a}).then((function(e){t.$message({showClose:!0,message:e.message,type:"success"}),t.getList()})).finally((function(t){e.close()}))})).catch((function(){}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"251b25c5",null);t["default"]=m.exports},"56bd":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tree",attrs:{data:e.data,props:e.defaultProps,"node-key":"id","default-expand-all":"","show-checkbox":"","default-checked-keys":e.permissionIdList,"check-on-click-node":"","check-strictly":""}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.submit")))])],1)],1)},n=[],r=(a("a9e3"),a("cc5e")),i=a("0feb"),s={name:"SyncPermissions",props:{success:{type:Function,default:null},id:{type:Number,default:0,required:!0}},data:function(){return{loading:!0,data:[],defaultProps:{children:"children",label:"title"},permissionIdList:[]}},watch:{id:function(){this.role()}},created:function(){this.role()},methods:{role:function(){var e=this;this.id>0&&(this.loading=!0,this.data=[],this.permissionIdList=[],Object(r["d"])({id:this.id}).then((function(t){var a=t.data;e.permissionIdList=a.permissionIdList,e.getTree()})).catch((function(t){e.loading=!1})))},getTree:function(){var e=this;Object(i["e"])({guard_name:"admin"}).then((function(t){e.loading=!1,e.data=t.data.tree})).catch((function(t){e.loading=!1}))},onSubmit:function(){var e=this,t=this.$refs.tree.getCheckedKeys();Object(r["f"])({id:this.id,permissions:t}).then((function(t){e.$message({message:t.message,type:"success"}),e.success()}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"496490ce",null);t["default"]=m.exports},"5c1b":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form-item",[a("el-select",{staticClass:"width-100",attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:e.$t("admin.syncRoles")},model:{value:e.roleIds,callback:function(t){e.roleIds=t},expression:"roleIds"}},e._l(e.roles,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.submit")))])],1)],1)},n=[],r=(a("a9e3"),a("d3b7"),a("cc5e")),i=a("50fc"),s={name:"SyncRoles",props:{success:{type:Function,default:null},id:{type:Number,default:0,required:!0}},data:function(){return{roles:[],roleIds:[],loading:!1,submitLoading:!1}},watch:{id:function(){this.admin()}},created:function(){this.admin()},methods:{admin:function(){var e=this;this.id>0&&(this.loading=!0,this.roles=[],Object(i["a"])({id:this.id}).then((function(t){var a=t.data;e.roleIds=a.roleIds,Object(r["a"])({guard_name:"admin"}).then((function(t){var a=t.data.roles;e.roles=a,e.loading=!1})).catch((function(t){e.loading=!1}))})).catch((function(t){e.loading=!1})))},onSubmit:function(){var e=this;this.submitLoading=!0,Object(r["g"])({guard_name:"admin",guard_id:this.id,roles:this.roleIds}).then((function(t){e.$message({message:t.message,type:"success"}),e.success()})).finally((function(){e.submitLoading=!1}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"5aa6985a",null);t["default"]=m.exports},"649c":function(e,t,a){"use strict";a("e005")},6512:function(e,t,a){"use strict";a("c087")},"6c21":function(e,t,a){"use strict";a("b1a1")},"71c0":function(e,t,a){"use strict";a("171f")},7416:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("h2",[e._v("在线人数: "+e._s(e.count))])]),a("el-col",{staticClass:"content padding-15",attrs:{id:"chatRecord",span:24}},e._l(e.groupChat,(function(t,o){return a("el-col",{key:o,class:e.clientId===t.clientId?"text-right":"",attrs:{span:24}},[a("p",[e._v(e._s(t.name)+" "),a("small",{staticStyle:{color:"#909399"}},[e._v(e._s(e.rTime(t.created_at)))])]),a("p",[e._v(e._s(t.message))])])})),1),a("el-col",{staticClass:"padding-15",attrs:{span:24}},[a("el-col",{attrs:{span:18}},[a("el-input",{ref:"input",attrs:{type:"text",placeholder:"请输入内容",autosize:"",resize:"none",maxlength:"100","show-word-limit":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("Send")])],1)],1)],1)],1)],1)},n=[],r=(a("99af"),a("e9c4"),a("ed08")),i=a("5f87"),s=a("4360"),l={name:"Websocket",data:function(){return{textarea:"",count:0,clientId:0,groupChat:[]}},mounted:function(){var e=Object(i["a"])(),t="en";switch(s["a"].getters.language){case"zh":t="zh-CN";break;default:t="en"}if("WebSocket"in window){var a="wss://ityphp.newbanri.com/ws";this.websocket=new WebSocket("".concat(a,"?lang=").concat(t,"&token=").concat(e)),this.initWebSocket()}else this.$message.error("当前浏览器不支持websocket")},beforeDestroy:function(){this.onbeforeunload()},methods:{initWebSocket:function(){this.websocket.onerror=this.setErrorMessage,this.websocket.onopen=this.setOnopenMessage,this.websocket.onmessage=this.setOnmessageMessage,this.websocket.onclose=this.setOncloseMessage,window.onbeforeunload=this.onbeforeunload},setErrorMessage:function(){this.$message.error("WebSocket连接发生错误")},setOnopenMessage:function(){this.$message({message:"连接成功",type:"success"});var e={route:"websocket.gc.online"};this.websocket.send(JSON.stringify(e));var t={route:"websocket.gc.chatRecord"};this.websocket.send(JSON.stringify(t))},setOnmessageMessage:function(e){var t=JSON.parse(e.data);if("heart"!==t.type)if(!0===t.success){var a=t.data;switch(a.type){case"onWebSocketConnect":this.clientId=a.clientId;break;case"online":this.count=a.count;break;case"getChatRecord":this.groupChat=a.groupChat,this.$nextTick((function(){var e=document.getElementById("chatRecord");e.scrollTop=e.scrollHeight}));break;case"onClose":this.count=a.count;break;default:}}else this.$message.error(t.message)},setOncloseMessage:function(){this.$message("连接关闭")},onbeforeunload:function(){this.closeWebSocket()},closeWebSocket:function(){this.websocket.close()},send:function(){if(this.textarea.length>0){var e={route:"websocket.gc.send",data:{message:this.textarea}};this.websocket.send(JSON.stringify(e));var t={route:"websocket.gc.chatRecord"};this.websocket.send(JSON.stringify(t)),this.textarea=""}else this.$refs.input.focus()},rTime:function(e){return Object(r["g"])(e)}}},c=l,m=(a("ff0a"),a("2877")),d=Object(m["a"])(c,o,n,!1,null,"70132b22",null);t["default"]=d.exports},"74b1":function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u}));var o=a("b775");function n(e){return Object(o["a"])({url:"/genTables",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/genTable",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/genTable/importTable",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/genTable/columnConfig",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/genTable/create",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/genTable/update",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/genTable/delete",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/genTable/gen",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/genTable/download",method:"post",responseType:"blob",timeout:0,data:e})}},"76c3":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.formInline}},[a("el-col",[a("el-form-item",{attrs:{label:e.$t("activity.log_name")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("activity.log_name")},model:{value:e.formInline.log_name,callback:function(t){e.$set(e.formInline,"log_name",t)},expression:"formInline.log_name"}},e._l(e.log_name,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("activity.description")}},[a("el-input",{attrs:{placeholder:e.$t("activity.description")},model:{value:e.formInline.description,callback:function(t){e.$set(e.formInline,"description",t)},expression:"formInline.description"}})],1),a("el-form-item",{attrs:{label:e.$t("common.createTime")}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"~","start-placeholder":e.$t("common.startTime"),"end-placeholder":e.$t("common.endTime"),align:"right"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1)],1),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.searchMore,expression:"searchMore"}]},[a("el-form-item",{attrs:{label:e.$t("activity.subject_id")}},[a("el-input",{attrs:{placeholder:e.$t("activity.subject_id")},model:{value:e.formInline.subject_id,callback:function(t){e.$set(e.formInline,"subject_id",t)},expression:"formInline.subject_id"}})],1),a("el-form-item",{attrs:{label:e.$t("activity.subject_type")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("activity.subject_type")},model:{value:e.formInline.subject_type,callback:function(t){e.$set(e.formInline,"subject_type",t)},expression:"formInline.subject_type"}},e._l(e.subject_type,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("activity.causer_id")}},[a("el-input",{attrs:{placeholder:e.$t("activity.causer_id")},model:{value:e.formInline.causer_id,callback:function(t){e.$set(e.formInline,"causer_id",t)},expression:"formInline.causer_id"}})],1),a("el-form-item",{attrs:{label:e.$t("activity.causer_type")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("activity.causer_type")},model:{value:e.formInline.causer_type,callback:function(t){e.$set(e.formInline,"causer_type",t)},expression:"formInline.causer_type"}},e._l(e.causer_type,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("activity.properties")}},[a("el-input",{attrs:{placeholder:e.$t("activity.properties")},model:{value:e.formInline.properties,callback:function(t){e.$set(e.formInline,"properties",t)},expression:"formInline.properties"}})],1)],1)],1),a("el-col",[a("el-form-item",[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{loading:e.loading},on:{click:e.resetForm}},[e._v(e._s(e.$t("common.reset")))]),a("el-button",{on:{click:function(t){e.searchMore=!e.searchMore}}},[e._v(" "+e._s(e.searchMore?e.$t("common.collapseScreening"):e.$t("common.moreScreening"))+" ")])],1)],1)],1)],1),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,"default-sort":{prop:e.sort,order:e.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-col",{attrs:{span:24}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.jsonTheme,callback:function(t){e.jsonTheme=t},expression:"jsonTheme"}},[a("el-radio-button",{attrs:{label:""}},[e._v(e._s(e.$t("common.jsonTheme.default")))]),a("el-radio-button",{attrs:{label:"one-dark"}},[e._v(e._s(e.$t("common.jsonTheme.oneDark")))]),a("el-radio-button",{attrs:{label:"vs-code"}},[e._v(e._s(e.$t("common.jsonTheme.vsCode")))])],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-form",{attrs:{model:t.row}},[a("el-form-item",{attrs:{label:e.$t("activity.causer")}},[a("span",[e._v(e._s(t.row.causer_type)),t.row.causer_id?a("span",[e._v(": "+e._s(t.row.causer_id))]):e._e()])]),a("el-form-item",{attrs:{label:e.$t("activity.subject")}},[a("span",[e._v(e._s(t.row.subject_type)),t.row.subject_id?a("span",[e._v(": "+e._s(t.row.subject_id))]):e._e()])])],1)],1),a("el-col",{attrs:{span:24}},[a("json-view",{staticClass:"margin-t-5",attrs:{data:t.row.properties,theme:e.jsonTheme}})],1)]}}])}),a("el-table-column",{attrs:{prop:"log_name",label:e.$t("activity.log_name"),sortable:"",width:"200"}}),a("el-table-column",{attrs:{prop:"description",label:e.$t("activity.description"),sortable:""}}),a("el-table-column",{attrs:{prop:"subject_id",label:e.$t("activity.subject_id"),width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.causer_id?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.causer_id,placement:"left"}},[a("el-tag",[e._v(e._s(t.row.causer_type))])],1):e._e(),t.row.causer_id&&t.row.subject_id?a("el-tag",{staticClass:"margin-l-5",attrs:{type:"info"}},[a("i",{staticClass:"el-icon-right"})]):e._e(),t.row.subject_id?a("el-tooltip",{staticClass:"item margin-l-5",attrs:{effect:"dark",content:t.row.subject_id,placement:"right"}},[a("el-tag",[e._v(e._s(t.row.subject_type))])],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),formatter:e.rTime,sortable:"",width:"180"}})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[5,20,35,50],"page-size":5,"current-page":e.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("back-to-top",{attrs:{"visibility-height":300,"back-position":50,"transition-name":"fade"}})],1)},n=[],r=(a("4e82"),a("a4d3"),a("e01a"),a("b775"));function i(e){return Object(r["a"])({url:"/active/logs",method:"post",data:e})}var s=a("ed08"),l=a("1b37"),c=a.n(l),m=a("0625"),d={name:"activeLog.activeLogs",components:{jsonView:c.a,BackToTop:m["a"]},data:function(){return{tableData:[],subject_type:[],causer_type:[],log_name:[],total:0,loading:!0,order:"descending",sort:"created_at",offset:0,limit:5,jsonTheme:"vs-code",formInline:{log_name:"",description:"",subject_id:"",subject_type:"",causer_id:"",causer_type:"",properties:"",time:""},pickerOptions:{shortcuts:[{text:this.$t("common.week"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.oneMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.threeMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchMore:!1}},mounted:function(){this.getLogs()},methods:{getLogs:function(){var e=this;this.loading=!0;var t={offset:this.offset,limit:this.limit,order:this.order,sort:this.sort,log_name:this.formInline.log_name,description:this.formInline.description,subject_id:this.formInline.subject_id,subject_type:this.formInline.subject_type,causer_id:this.formInline.causer_id,causer_type:this.formInline.causer_type,properties:this.formInline.properties};""!==Object(s["g"])(this.formInline.time[0])&&(t["start_at"]=Object(s["g"])(this.formInline.time[0])),""!==Object(s["g"])(this.formInline.time[1])&&(t["end_at"]=Object(s["g"])(this.formInline.time[1])),i(t).then((function(t){e.loading=!1,e.tableData=t.data.logs,e.total=t.data.total,e.subject_type=t.data.subject_type,e.causer_type=t.data.causer_type,e.log_name=t.data.log_name})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0,e.subject_type=[],e.causer_type=[],e.log_name=[]}))},rTime:function(e,t){return Object(s["g"])(e[t.property])},tableSortChange:function(e){this.order=e.order?e.order:"descending",this.sort=e.prop,this.offset=0,this.getLogs()},handleSizeChange:function(e){this.limit=e,this.getLogs()},handleCurrentChange:function(e){this.offset=e,this.getLogs()},onSubmit:function(){this.offset=0,this.getLogs()},resetForm:function(e){this.formInline={log_name:"",description:"",subject_id:"",subject_type:"",causer_id:"",causer_type:"",properties:"",time:""},this.offset=0,this.getLogs()}}},u=d,f=a("2877"),p=Object(f["a"])(u,o,n,!1,null,"29deffa9",null);t["default"]=p.exports},7756:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("common.create"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleCreate(t)}}},[a("el-form-item",{attrs:{label:e.$t("dictType.name"),prop:"name",error:e.error.name}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.type"),prop:"type",error:e.error.type}},[a("el-input",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.status"),prop:"statusShow",error:e.error.status}},[a("el-switch",{model:{value:e.form.statusShow,callback:function(t){e.$set(e.form,"statusShow",t)},expression:"form.statusShow"}})],1),a("el-form-item",{attrs:{label:e.$t("dictType.remark"),prop:"remark",error:e.error.remark}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)},n=[],r=(a("d3b7"),a("25f0"),a("b705")),i={name:"dict.create",data:function(){return{dialogVisible:!1,loading:!1,form:{name:"",type:"",statusShow:!0,remark:""},error:{}}},methods:{init:function(){this.dialogVisible=!0},handleCreate:function(){var e=this;this.loading=!0,this.error={},!0===this.form.statusShow?this.form.status=1:this.form.status=0,Object(r["h"])(this.form).then((function(t){e.$message({showClose:!0,message:t.message,type:"success"}),e.$refs.form.resetFields(),e.$emit("createDone",t.data)})).catch((function(t){var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()})).finally((function(t){e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"74724ebe",null);t["default"]=c.exports},"7f1b":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto"}},[a("el-form-item",{attrs:{label:e.$t("permission.name"),prop:"name",error:e.error.name?e.error.name[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.title"),prop:"title",error:e.error.title?e.error.title[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.icon"),prop:"icon",error:e.error.icon?e.error.icon[0]:""}},[a("e-icon-picker",{model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.path"),prop:"path",error:e.error.path?e.error.path[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.component"),prop:"component",error:e.error.component?e.error.component[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.sort"),prop:"sort",error:e.error.sort?e.error.sort[0]:""}},[a("el-input-number",{attrs:{min:1,max:999},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.hidden"),prop:"hidden",error:e.error.hidden?e.error.hidden[0]:""}},[a("el-radio-group",{model:{value:e.form.hidden,callback:function(t){e.$set(e.form,"hidden",t)},expression:"form.hidden"}},[a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("permission.nav")))]),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("permission.btn")))])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.onSubmit("form")}}},[e._v(e._s(e.$t("common.submit")))]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)},n=[],r=(a("a9e3"),a("d3b7"),a("0feb")),i={name:"Create",props:{success:{type:Function,default:null},pid:{type:Number,default:0,required:!0}},data:function(){return{form:{name:"",title:"",icon:"el-icon-document",path:"",component:"",sort:1,hidden:1},error:{},loading:!1}},methods:{onSubmit:function(e){var t=this;this.loading=!0,this.error={};var a=this.form;a.guard_name="admin",this.pid>0&&(a.pid=this.pid),Object(r["a"])(a).then((function(a){t.$message({message:a.message,type:"success"}),t.resetForm(e),t.success()})).catch((function(e){var a=e.response.data;422===a.code&&(t.error=a.data)})).finally((function(){t.loading=!1}))},resetForm:function(e){this.$refs[e].resetFields()}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"05fe783c",null);t["default"]=c.exports},"7fb7":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:e.$t("nginx.httpCode")}},[a("el-input",{attrs:{placeholder:e.$t("nginx.httpCode")},model:{value:e.formInline.http_code,callback:function(t){e.$set(e.formInline,"http_code",t)},expression:"formInline.http_code"}})],1),a("el-form-item",{attrs:{label:e.$t("nginx.ip")}},[a("el-input",{attrs:{placeholder:e.$t("nginx.ip")},model:{value:e.formInline.ip,callback:function(t){e.$set(e.formInline,"ip",t)},expression:"formInline.ip"}})],1),a("el-form-item",{attrs:{label:e.$t("nginx.method")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("nginx.method")},model:{value:e.formInline.method,callback:function(t){e.$set(e.formInline,"method",t)},expression:"formInline.method"}},[a("el-option",{attrs:{label:e.$t("nginx.all"),value:""}}),a("el-option",{attrs:{label:"GET",value:"GET"}}),a("el-option",{attrs:{label:"POST",value:"POST"}})],1)],1),a("el-form-item",{attrs:{label:e.$t("common.createTime")}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"~","start-placeholder":e.$t("common.startTime"),"end-placeholder":e.$t("common.endTime"),align:"right"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.searchMore,expression:"searchMore"}]},[a("el-form-item",{attrs:{label:e.$t("nginx.uri")}},[a("el-input",{attrs:{placeholder:e.$t("nginx.uri")},model:{value:e.formInline.uri,callback:function(t){e.$set(e.formInline,"uri",t)},expression:"formInline.uri"}})],1),a("el-form-item",{attrs:{label:e.$t("nginx.is_warning")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("nginx.is_warning")},model:{value:e.formInline.is_warning,callback:function(t){e.$set(e.formInline,"is_warning",t)},expression:"formInline.is_warning"}},[a("el-option",{attrs:{label:e.$t("nginx.all"),value:""}}),a("el-option",{attrs:{label:e.$t("nginx.yes"),value:1}}),a("el-option",{attrs:{label:e.$t("nginx.no"),value:0}})],1)],1),a("el-form-item",{attrs:{label:e.$t("nginx.is_error")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("nginx.is_error")},model:{value:e.formInline.is_error,callback:function(t){e.$set(e.formInline,"is_error",t)},expression:"formInline.is_error"}},[a("el-option",{attrs:{label:e.$t("nginx.all"),value:""}}),a("el-option",{attrs:{label:e.$t("nginx.yes"),value:1}}),a("el-option",{attrs:{label:e.$t("nginx.no"),value:0}})],1)],1),a("el-form-item",{attrs:{label:e.$t("nginx.is_robot")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("nginx.is_robot")},model:{value:e.formInline.is_robot,callback:function(t){e.$set(e.formInline,"is_robot",t)},expression:"formInline.is_robot"}},[a("el-option",{attrs:{label:e.$t("nginx.all"),value:""}}),a("el-option",{attrs:{label:e.$t("nginx.yes"),value:1}}),a("el-option",{attrs:{label:e.$t("nginx.no"),value:0}})],1)],1),a("el-form-item",{attrs:{label:e.$t("nginx.is_mobile")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$t("nginx.is_mobile")},model:{value:e.formInline.is_mobile,callback:function(t){e.$set(e.formInline,"is_mobile",t)},expression:"formInline.is_mobile"}},[a("el-option",{attrs:{label:e.$t("nginx.all"),value:""}}),a("el-option",{attrs:{label:e.$t("nginx.yes"),value:1}}),a("el-option",{attrs:{label:e.$t("nginx.no"),value:0}})],1)],1)],1),a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{on:{click:e.resetForm}},[e._v(e._s(e.$t("common.reset")))]),a("el-button",{on:{click:function(t){e.searchMore=!e.searchMore}}},[e._v(" "+e._s(e.searchMore?e.$t("common.collapseScreening"):e.$t("common.moreScreening"))+" ")])],1)],1)],1)],1),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-col",{attrs:{span:24}},[e._v(" "+e._s(t.row.string)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"http",label:e.$t("nginx.http"),width:"80"}}),a("el-table-column",{attrs:{prop:"http_code",label:e.$t("nginx.httpCode"),width:"80"}}),a("el-table-column",{attrs:{label:e.$t("nginx.ip")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{target:"_blank",href:"https://www.ip138.com/iplookup.asp?ip="+t.row.ip+"&action=2"}},[e._v(e._s(t.row.ip))])]}}])}),a("el-table-column",{attrs:{prop:"method",label:e.$t("nginx.method"),width:"80"}}),a("el-table-column",{attrs:{label:e.$t("nginx.uri")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_warning?a("i",{staticClass:"el-icon-warning text-warning"}):e._e(),t.row.is_error?a("i",{staticClass:"el-icon-error text-error"}):e._e(),a("span",[e._v(e._s(t.row.uri))])]}}])}),a("el-table-column",{attrs:{prop:"return",label:e.$t("nginx.return")}}),a("el-table-column",{attrs:{prop:"size",label:e.$t("nginx.size"),width:"80"}}),a("el-table-column",{attrs:{label:e.$t("nginx.browser"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_robot?a("i",{staticClass:"el-icon-user-solid text-info"}):e._e(),t.row.is_mobile?a("i",{staticClass:"el-icon-mobile-phone text-info"}):e._e(),a("span",[e._v(e._s(t.row.user_agent_info?t.row.user_agent_info.browser:""))])]}}])}),a("el-table-column",{attrs:{label:e.$t("nginx.platform")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.user_agent_info?t.row.user_agent_info.platform:""))])]}}])}),a("el-table-column",{attrs:{prop:"time",label:e.$t("common.createdAt"),width:"180"}})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},n=[],r=a("b775");function i(e){return Object(r["a"])({url:"/nginx/logs",method:"post",timeout:1e4,data:e})}var s=a("ed08"),l={name:"nginx.logs",data:function(){return{total:0,searchMore:!1,loading:!0,offset:0,limit:10,tableData:[],formInline:{http_code:"",ip:"",method:"",uri:"",is_warning:"",is_error:"",is_robot:"",is_mobile:"",time:""},pickerOptions:{shortcuts:[{text:this.$t("common.week"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.oneMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.threeMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},mounted:function(){this.getLogs()},methods:{getLogs:function(){var e=this;this.loading=!0;var t={http_code:this.formInline.http_code,ip:this.formInline.ip,method:this.formInline.method,uri:this.formInline.uri,is_warning:this.formInline.is_warning,is_error:this.formInline.is_error,is_robot:this.formInline.is_robot,is_mobile:this.formInline.is_mobile,offset:this.offset,limit:this.limit,file:"nginx.log"};""!==Object(s["g"])(this.formInline.time[0])&&(t["start_at"]=Object(s["g"])(this.formInline.time[0])),""!==Object(s["g"])(this.formInline.time[1])&&(t["end_at"]=Object(s["g"])(this.formInline.time[1])),i(t).then((function(t){var a=t.data;e.loading=!1,e.tableData=a.logs,e.total=a.total})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0}))},handleSizeChange:function(e){this.limit=e,this.getLogs()},handleCurrentChange:function(e){this.offset=e,this.getLogs()},resetForm:function(e){this.formInline={http_code:"",ip:"",method:"",uri:"",is_warning:"",is_error:"",is_robot:"",is_mobile:"",time:""},this.offset=0,this.getLogs()},onSubmit:function(){this.offset=0,this.getLogs()}}},c=l,m=a("2877"),d=Object(m["a"])(c,o,n,!1,null,"cfc34e60",null);t["default"]=d.exports},"81c6":function(e,t,a){},8485:function(e,t,a){},8593:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return m})),a.d(t,"i",(function(){return d})),a.d(t,"e",(function(){return u}));var o=a("b775");function n(e){return Object(o["a"])({url:"/system/logo",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/system/getConfig",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/system/dingTalk",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/system/wechat",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/system/aliOss",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/system/wechatPay",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/system/wechatPayCheck",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/system/wechatPayTest",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/system/randomKey",method:"post",data:e})}},"8cc3":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},n=[],r={name:"Rview"},i=r,s=a("2877"),l=Object(s["a"])(i,o,n,!1,null,"8eee7018",null);t["default"]=l.exports},"8d50":function(e,t,a){},"8d78":function(e,t,a){"use strict";a("393e")},"8f99":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("system.aliOss.need_permissions")}},[a("el-tag",[e._v("AliyunOSSFullAccess 管理对象存储服务(OSS)权限")])],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.aliOss.endpoint"),prop:"endpoint",error:e.error.endpoint?e.error.endpoint[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.endpoint,callback:function(t){e.$set(e.form,"endpoint",t)},expression:"form.endpoint"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.aliOss.access_key_id"),prop:"access_key_id",error:e.error.access_key_id?e.error.access_key_id[0]:""}},[a("el-alert",{attrs:{title:"https://help.aliyun.com/document_detail/116401.htm?spm=a2c4g.11186623.0.0.11c43669M1wVBf#task-2245479",type:"warning",closable:!1}}),a("el-input",{staticClass:"margin-t-5",attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.access_key_id,callback:function(t){e.$set(e.form,"access_key_id",t)},expression:"form.access_key_id"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.aliOss.access_key_secret"),prop:"access_key_secret",error:e.error.access_key_secret?e.error.access_key_secret[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.access_key_secret,callback:function(t){e.$set(e.form,"access_key_secret",t)},expression:"form.access_key_secret"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.aliOss.bucket_name"),prop:"bucket_name",error:e.error.bucket_name?e.error.bucket_name[0]:""}},[a("el-alert",{attrs:{title:"OSS管理后台 -> 存储空间名称 -> 权限控制 -> 读写权限 -> 修改为公共读",type:"warning",closable:!1}}),a("el-input",{staticClass:"margin-t-5",attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.bucket_name,callback:function(t){e.$set(e.form,"bucket_name",t)},expression:"form.bucket_name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.create}},[e._v(e._s(e.$t("common.submit")))])],1)],1)},n=[],r=(a("d3b7"),a("159b"),a("8593")),i={name:"aliOss",data:function(){return{form:{endpoint:"",access_key_id:"",access_key_secret:"",bucket_name:""},error:{},loading:!1}},mounted:function(){this.getConfig()},methods:{getConfig:function(){var e=this;Object(r["c"])({type:"aliOss"}).then((function(t){var a=t.data.config,o={};a.forEach((function(e){o[e.key]=e.value})),e.form=o}))},create:function(){var e=this;this.loading=!0,this.error={},Object(r["a"])(this.form).then((function(t){e.$message({message:t.message,type:"success"})})).catch((function(t){var a=t.response.data;422===a.code&&(e.error=a.data)})).finally((function(){e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"1237694a",null);t["default"]=c.exports},9406:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},n=[],r={name:"Dashboard"},i=r,s=a("2877"),l=Object(s["a"])(i,o,n,!1,null,null,null);t["default"]=l.exports},"97d1":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:e.$t("system.config")}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("system.title"),prop:"title"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:e.$t("system.logo"),prop:"logo"}},[a("el-image",{staticClass:"image logo-image",attrs:{src:e.form.logo,"preview-src-list":[e.form.logo],fit:"cover"}}),a("el-upload",{ref:"logo",attrs:{action:"#","auto-upload":!1,name:"logo",accept:"image/png","show-file-list":!1,"on-change":e.onLogoChange}},[a("el-button",{attrs:{loading:e.loading,type:"default",icon:"el-icon-upload"}},[e._v(" "+e._s(e.$t("common.change"))+" ")])],1),a("p",{staticClass:"text-help"},[e._v(e._s(e.$t("common.uploadLogTip")))])],1)],1)],1),a("el-tab-pane",{attrs:{label:e.$t("system.dingTalkLogin")}},[a("ding-talk-login",{ref:"dingTalkLogin"})],1),a("el-tab-pane",{attrs:{label:e.$t("system.wechatLogin")}},[a("wechat-login",{ref:"wechatLogin"})],1),a("el-tab-pane",{attrs:{label:e.$t("system.aliOssTitle")}},[a("ali-oss",{ref:"aliOss"})],1),a("el-tab-pane",{attrs:{label:e.$t("system.wechatPayTitle")}},[a("wechat-pay",{ref:"wechatPay"})],1)],1)],1)],1)],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("c24f")),i=a("8593"),s={name:"systemConfig",components:{dingTalkLogin:function(){return Promise.resolve().then(a.bind(null,"1d62"))},wechatLogin:function(){return Promise.resolve().then(a.bind(null,"9849"))},aliOss:function(){return Promise.resolve().then(a.bind(null,"8f99"))},wechatPay:function(){return Promise.resolve().then(a.bind(null,"f21b"))}},data:function(){return{form:{title:"",logo:""},loading:!1}},mounted:function(){this.getConfig()},methods:{getConfig:function(){var e=this;Object(r["p"])().then((function(t){e.form=t.data}))},onLogoChange:function(e){var t=this;this.loading=!0;var a=new FormData;a.append("logo",e.raw),Object(i["d"])(a).then((function(e){t.$message({message:e.message,type:"success"}),t.getConfig()})).finally((function(){t.loading=!1}))}}},l=s,c=(a("2957"),a("2877")),m=Object(c["a"])(l,o,n,!1,null,"24a19222",null);t["default"]=m.exports},"983a":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:e.$t("exception.id")}},[a("el-input",{attrs:{placeholder:e.$t("exception.id")},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),a("el-form-item",{attrs:{label:e.$t("exception.message")}},[a("el-input",{attrs:{placeholder:e.$t("exception.message")},model:{value:e.formInline.message,callback:function(t){e.$set(e.formInline,"message",t)},expression:"formInline.message"}})],1),a("el-form-item",{attrs:{label:e.$t("exception.isSolve")}},[a("el-select",{attrs:{placeholder:e.$t("exception.isSolve")},model:{value:e.formInline.is_solve,callback:function(t){e.$set(e.formInline,"is_solve",t)},expression:"formInline.is_solve"}},[a("el-option",{attrs:{label:e.$t("exception.solveStatus.all"),value:""}}),a("el-option",{attrs:{label:e.$t("exception.solveStatus.no"),value:0}}),a("el-option",{attrs:{label:e.$t("exception.solveStatus.yes"),value:1}})],1)],1),a("el-form-item",{attrs:{label:e.$t("common.createTime")}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"~","start-placeholder":e.$t("common.startTime"),"end-placeholder":e.$t("common.endTime"),align:"right"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),a("el-col",[a("el-form-item",[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{loading:e.loading},on:{click:e.resetForm}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)],1),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,"default-sort":{prop:e.sort,order:e.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-col",{attrs:{span:24}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.jsonTheme,callback:function(t){e.jsonTheme=t},expression:"jsonTheme"}},[a("el-radio-button",{attrs:{label:""}},[e._v(e._s(e.$t("common.jsonTheme.default")))]),a("el-radio-button",{attrs:{label:"one-dark"}},[e._v(e._s(e.$t("common.jsonTheme.oneDark")))]),a("el-radio-button",{attrs:{label:"vs-code"}},[e._v(e._s(e.$t("common.jsonTheme.vsCode")))])],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-form",{attrs:{model:t.row}},[a("el-form-item",[a("span",[e._v(e._s(t.row.file)+":"+e._s(t.row.line))]),!1===t.row.is_solve?a("el-popconfirm",{directives:[{name:"permission",rawName:"v-permission",value:"exceptionError.amended",expression:"'exceptionError.amended'"}],staticClass:"margin-l-10",attrs:{title:e.$t("exception.confirmSolveSuccessText"),"confirm-button-text":e.$t("common.confirmButtonText"),"cancel-button-text":e.$t("common.cancelButtonText")},on:{onConfirm:function(a){return e.amended(t.row.id)}}},[a("el-button",{attrs:{slot:"reference",type:"success",size:"mini",icon:"el-icon-check",plain:""},slot:"reference"},[e._v(" "+e._s(e.$t("exception.solveSuccessText"))+" ")])],1):a("el-button",{staticClass:"margin-l-10",attrs:{type:"success",size:"mini",icon:"el-icon-check",plain:"",disabled:""}},[e._v(" "+e._s(e.$t("exception.solveStatus.yes"))+" ")])],1),a("el-form-item",[a("span",[e._v(e._s(t.row.message))])])],1)],1),a("el-col",{attrs:{span:24}},[a("json-view",{staticClass:"margin-t-5",attrs:{data:t.row.trace,theme:e.jsonTheme}})],1)]}}])}),a("el-table-column",{attrs:{prop:"id",label:e.$t("exception.id"),sortable:"",width:"200"}}),a("el-table-column",{attrs:{prop:"message",label:e.$t("exception.message"),sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.message&&t.row.message.length>100?[e._v(" "+e._s(t.row.message.substr(0,97))+"... ")]:[e._v(e._s(t.row.message))]]}}])}),a("el-table-column",{attrs:{prop:"is_solve",label:e.$t("exception.isSolve"),width:"100",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.is_solve?"success":"danger"}},[e._v(" "+e._s(t.row.is_solve?e.$t("exception.solveStatus.yes"):e.$t("exception.solveStatus.no"))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),formatter:e.rTime,sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),formatter:e.rTime,sortable:"",width:"180"}}),a("el-table-column",{attrs:{label:e.$t("exception.info")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.seeInfo(t.row)}}},[e._v(e._s(e.$t("common.seeInfo")))])]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[5,20,35,50],"page-size":5,"current-page":e.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{attrs:{title:e.seeInfoData.id,visible:e.seeInfoVisible,"append-to-body":"",top:"30px",width:"85%","before-close":e.seeInfoClose},on:{"update:visible":function(t){e.seeInfoVisible=t}}},[a("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.seeInfoData.trace_as_string,expression:"seeInfoData.trace_as_string"}]},[a("code",{staticClass:"php"})])]),a("back-to-top",{attrs:{"visibility-height":300,"back-position":50,"transition-name":"fade"}})],1)},n=[],r=(a("4e82"),a("dcff")),i=a("ed08"),s=a("1b37"),l=a.n(s),c=a("0625"),m={name:"exceptionError.exceptionErrors",components:{jsonView:l.a,BackToTop:c["a"]},data:function(){return{tableData:[],total:0,loading:!0,order:"descending",sort:"created_at",offset:0,limit:5,jsonTheme:"vs-code",formInline:{id:"",message:"",is_solve:0,time:""},pickerOptions:{shortcuts:[{text:this.$t("common.week"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.oneMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.threeMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},seeInfoVisible:!1,seeInfoData:{}}},mounted:function(){this.getLogs()},methods:{getLogs:function(){var e=this;this.loading=!0;var t={offset:this.offset,limit:this.limit,order:this.order,sort:this.sort,id:this.formInline.id,message:this.formInline.message,is_solve:this.formInline.is_solve};""!==Object(i["g"])(this.formInline.time[0])&&(t["start_at"]=Object(i["g"])(this.formInline.time[0])),""!==Object(i["g"])(this.formInline.time[1])&&(t["end_at"]=Object(i["g"])(this.formInline.time[1])),Object(r["d"])(t).then((function(t){e.loading=!1,e.tableData=t.data.logs,e.total=t.data.total})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0}))},rTime:function(e,t){return Object(i["g"])(e[t.property])},tableSortChange:function(e){this.order=e.order?e.order:"descending",this.sort=e.prop,this.offset=0,this.getLogs()},handleSizeChange:function(e){this.limit=e,this.getLogs()},handleCurrentChange:function(e){this.offset=e,this.getLogs()},onSubmit:function(){this.offset=0,this.getLogs()},resetForm:function(e){this.formInline={id:"",message:"",is_solve:0,time:""},this.offset=0,this.getLogs()},amended:function(e){var t=this;Object(r["a"])({id:e,solve:1}).then((function(e){!0===e.success&&(t.$notify({message:e.message,type:"success"}),t.getLogs())}))},seeInfo:function(e){this.seeInfoVisible=!0,this.seeInfoData=e},seeInfoClose:function(){this.seeInfoVisible=!1,this.seeInfoData={}}}},d=m,u=(a("6c21"),a("2877")),f=Object(u["a"])(d,o,n,!1,null,"505ed598",null);t["default"]=f.exports},9849:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","label-position":"top"}},[a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.open"),prop:"open",error:e.error.open?e.error.open[0]:""}},[a("el-switch",{model:{value:e.form.open,callback:function(t){e.$set(e.form,"open",t)},expression:"form.open"}})],1),a("el-form-item",{attrs:{label:e.$t("system.wechat.oplatform")}}),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.oplatform_appid"),prop:"oplatform_appid",error:e.error.oplatform_appid?e.error.oplatform_appid[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"18","show-word-limit":""},model:{value:e.form.oplatform_appid,callback:function(t){e.$set(e.form,"oplatform_appid",t)},expression:"form.oplatform_appid"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.oplatform_appsecret"),prop:"oplatform_appsecret",error:e.error.oplatform_appsecret?e.error.oplatform_appsecret[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"32","show-word-limit":""},model:{value:e.form.oplatform_appsecret,callback:function(t){e.$set(e.form,"oplatform_appsecret",t)},expression:"form.oplatform_appsecret"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.oplatform_redirect_uri"),prop:"oplatform_redirect_uri",error:e.error.oplatform_redirect_uri?e.error.oplatform_redirect_uri[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.oplatform_redirect_uri,callback:function(t){e.$set(e.form,"oplatform_redirect_uri",t)},expression:"form.oplatform_redirect_uri"}})],1),a("el-divider"),a("el-form-item",{attrs:{label:e.$t("system.wechat.offiaccount")}}),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.offiaccount_appid"),prop:"offiaccount_appid",error:e.error.offiaccount_appid?e.error.offiaccount_appid[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"18","show-word-limit":""},model:{value:e.form.offiaccount_appid,callback:function(t){e.$set(e.form,"offiaccount_appid",t)},expression:"form.offiaccount_appid"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.offiaccount_appsecret"),prop:"offiaccount_appsecret",error:e.error.offiaccount_appsecret?e.error.offiaccount_appsecret[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"32","show-word-limit":""},model:{value:e.form.offiaccount_appsecret,callback:function(t){e.$set(e.form,"offiaccount_appsecret",t)},expression:"form.offiaccount_appsecret"}})],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechat.offiaccount_redirect_uri"),prop:"offiaccount_redirect_uri",error:e.error.offiaccount_redirect_uri?e.error.offiaccount_redirect_uri[0]:""}},[a("el-alert",{attrs:{title:"微信回调不要填写协议开头 http:// https://",type:"warning",closable:!1}}),a("el-input",{staticClass:"margin-t-5",attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.offiaccount_redirect_uri,callback:function(t){e.$set(e.form,"offiaccount_redirect_uri",t)},expression:"form.offiaccount_redirect_uri"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.create}},[e._v(e._s(e.$t("common.submit")))])],1)],1)},n=[],r=(a("d3b7"),a("159b"),a("8593")),i={name:"wechatLogin",data:function(){return{form:{open:!1,offiaccount_appid:"",offiaccount_appsecret:"",offiaccount_redirect_uri:"",oplatform_appid:"",oplatform_appsecret:"",oplatform_redirect_uri:""},error:{},loading:!1}},mounted:function(){this.getConfig()},methods:{getConfig:function(){var e=this;Object(r["c"])({type:"wechat"}).then((function(t){var a=t.data.config,o={};a.forEach((function(e){"open"===e.key?o.open="1"===e.value:o[e.key]=e.value})),e.form=o}))},create:function(){var e=this;this.loading=!0,this.error={},Object(r["f"])(this.form).then((function(t){e.$message({message:t.message,type:"success"})})).catch((function(t){var a=t.response.data;422===a.code&&(e.error=a.data)})).finally((function(){e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"cc008692",null);t["default"]=c.exports},"9ed6":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,autocomplete:"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("div",{staticClass:"logo"},[a("el-avatar",{staticClass:"logo-image",attrs:{src:e.logo,size:"large"}}),a("label",{staticClass:"title"},[e._v(e._s(e.title))])],1),a("lang-select",{staticClass:"set-language"})],1),a("el-form-item",{attrs:{prop:"username",error:e.error.name?e.error.name[0]:""}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:e.$t("login.username")+"/"+e.$t("admin.email"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-tooltip",{attrs:{content:e.$t("common.capsLock"),placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password",error:e.error.password?e.error.password[0]:""}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" "+e._s(e.$t("login.logIn"))+" ")]),e.dingTalkOpen||e.wechatOpen?a("div",{staticClass:"login-oauth"},[a("el-divider",{attrs:{"content-position":"center"}},[e._v(e._s(e.$t("login.thirdparty")))]),e.dingTalkOpen?a("el-button",{attrs:{type:"primary",circle:""},on:{click:e.dingTalkLogin}},[a("svg-icon",{staticStyle:{"font-size":"18px"},attrs:{"icon-class":"dingtalk"}})],1):e._e(),e.wechatOpen?a("el-button",{attrs:{type:"success",circle:""},on:{click:e.wechatLogin}},[a("svg-icon",{staticStyle:{"font-size":"18px"},attrs:{"icon-class":"wechat"}})],1):e._e()],1):e._e()],1),a("el-dialog",{attrs:{visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("div",{attrs:{id:"login_container"}})])],1)},n=[],r=(a("d3b7"),a("b64b"),a("ac1f"),a("00b4"),a("5319"),a("2c18")),i=a("1131"),s=a("c24f"),l=a("ed08"),c={name:"Login",components:{LangSelect:i["a"]},data:function(){return{loginForm:{username:"",password:""},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},error:{},title:"Loading...",logo:"",visible:!1,dingTalkOpen:!1,wechatOpen:!1}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t),this.wechatLoginCallBack())},immediate:!0}},created:function(){this.dingTalkLoginCallBack()},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus(),this.getSetting()},destroyed:function(){},methods:{getSetting:function(){var e=this;this.loading=!0,document.title=this.title,this.$store.dispatch("user/setting").then((function(t){e.title=t.title,e.logo=t.logo,e.dingTalkOpen=t.ding_talk_open,e.wechatOpen=t.wechat_open,document.title=e.title})).finally((function(){e.loading=!1}))},checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.loading=!0,this.error={},this.$store.dispatch("user/login",this.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1})).catch((function(t){if(e.loading=!1,void 0!==t.response){var a=t.response.data;422===a.code&&(e.error=a.data)}}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})},wechatLogin:function(){var e=this,t=navigator.userAgent.toLowerCase(),a=/micromessenger/.test(t);if(a)Object(s["z"])().then((function(e){var t=e.data.url;window.location.href=t}));else{var o=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Object(s["y"])().then((function(t){Object(l["e"])("//res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js","WxLogin").then((function(){e.visible=!0,e.$nextTick((function(){var e=t.data;new WxLogin({self_redirect:!1,id:"login_container",appid:e.appid,scope:"snsapi_login",redirect_uri:e.redirect_uri,state:e.state,style:"",href:""})}))}))})).finally((function(){o.close()}))}},wechatLoginCallBack:function(){var e=this,t=Object(l["c"])(window.location.href);if(this.visible=!1,Object.prototype.hasOwnProperty.call(t,"code")){var a=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Object(s["w"])({state:t.state.replace("#/login","")}).then((function(o){var n=o.data.check;if(n){var r="",i=navigator.userAgent.toLowerCase(),l=/micromessenger/.test(i);r=l?"offiaccount":"oplatform",Object(s["v"])({state:t.state.replace("#/login",""),code:t.code,type:r}).then((function(t){e.$store.dispatch("user/loginByCode",t).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1}))})).finally((function(){a.close()}))}else a.close()}))}},dingTalkLogin:function(){var e=this;if("notInDingTalk"===r["env"].platform)Object(s["l"])().then((function(e){var t=e.data.url;window.location.href=t}));else{var t=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Object(s["i"])().then((function(a){var o=a.data.corpId;r["runtime"].permission.requestAuthCode({corpId:o}).then((function(a){Object(s["j"])({code:a.code,state:"state"}).then((function(t){e.$store.dispatch("user/loginByCode",t).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1}))})).finally((function(){t.close()}))}))}))}},dingTalkLoginCallBack:function(){var e=this,t=Object(l["c"])(window.location.href);if(Object.prototype.hasOwnProperty.call(t,"authCode")){var a=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Object(s["h"])({state:t.state.replace("#/login","")}).then((function(o){var n=o.data.check;n?Object(s["g"])({state:t.state.replace("#/login",""),code:t.authCode}).then((function(t){e.$store.dispatch("user/loginByCode",t).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1}))})).finally((function(){a.close()})):a.close()}))}}}},m=c,d=(a("2017"),a("fb65"),a("2877")),u=Object(d["a"])(m,o,n,!1,null,"74686afa",null);t["default"]=u.exports},a1ea:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"formInline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"role.create",expression:"'role.create'"}],attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.createVisibleShow}},[e._v(" "+e._s(e.$t("common.create"))+" ")])],1),a("el-form-item",{attrs:{label:e.$t("role.name"),prop:"name"}},[a("el-input",{attrs:{placeholder:e.$t("role.name")},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{attrs:{label:e.$t("common.createTime"),prop:"time"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"~","start-placeholder":e.$t("common.startTime"),"end-placeholder":e.$t("common.endTime"),align:"right"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{on:{click:function(t){return e.resetForm("formInline")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)],1),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,"default-sort":{prop:e.sort,order:e.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("role.name"),sortable:""}}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"600px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"role.syncPermissions",expression:"'role.syncPermissions'"}],attrs:{icon:"el-icon-setting",type:"primary"},on:{click:function(a){return e.syncPermissions(t.row)}}},[e._v(" "+e._s(e.$t("role.syncPermissions"))+" ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"role.update",expression:"'role.update'"}],attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(" "+e._s(e.$t("common.update"))+" ")]),a("el-popconfirm",{directives:[{name:"permission",rawName:"v-permission",value:"role.delete",expression:"'role.delete'"}],attrs:{title:e.$t("common.confirmDelete"),"confirm-button-text":e.$t("common.confirmButtonText"),"cancel-button-text":e.$t("common.cancelButtonText")},on:{onConfirm:function(a){return e.handleDelete(t.row.id)}}},[a("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",type:"danger"},slot:"reference"},[e._v(" "+e._s(e.$t("common.delete"))+" ")])],1)]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("common.create"),visible:e.createVisible},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"createForm",attrs:{model:e.createForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("role.name"),prop:"name",error:e.createError.name?e.createError.name[0]:""}},[a("el-input",{model:{value:e.createForm.name,callback:function(t){e.$set(e.createForm,"name",t)},expression:"createForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:function(t){return e.onCreate("createForm")}}},[e._v(e._s(e.$t("common.submit")))]),a("el-button",{on:{click:function(t){return e.resetCreateForm("createForm")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("common.update"),visible:e.updateVisible},on:{"update:visible":function(t){e.updateVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("role.name"),prop:"name",error:e.updateError.name?e.updateError.name[0]:""}},[a("el-input",{model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.updateLoading},on:{click:function(t){return e.onUpdate("updateForm")}}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1),a("el-dialog",{attrs:{title:e.syncPermissionsTitle,visible:e.syncPermissionsVisible},on:{"update:visible":function(t){e.syncPermissionsVisible=t}}},[a("sync-permissions",{attrs:{id:e.syncPermissionsId,success:e.success}})],1)],1)},n=[],r=(a("d3b7"),a("4e82"),a("b0c0"),a("ed08")),i=a("cc5e"),s=a("56bd"),l={name:"Roles",components:{SyncPermissions:s["default"]},data:function(){return{createForm:{name:"",guard_name:"admin"},updateForm:{name:"",guard_name:"admin"},formInline:{name:"",time:""},total:0,loading:!0,order:"descending",sort:"created_at",offset:0,limit:10,tableData:[],pickerOptions:{shortcuts:[{text:this.$t("common.week"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.oneMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.threeMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},createError:{},updateError:{},syncPermissionsVisible:!1,syncPermissionsId:0,syncPermissionsTitle:"",createVisible:!1,updateVisible:!1,createLoading:!1,updateLoading:!1}},mounted:function(){this.getRoles()},methods:{onUpdate:function(e){var t=this;this.updateError={},this.updateLoading=!0,Object(i["h"])(this.updateForm).then((function(e){t.$message({message:e.message,type:"success"}),t.updateVisible=!1,t.getRoles()})).catch((function(e){var a=e.response.data;422===a.code&&(t.updateError=a.data)})).finally((function(){t.updateLoading=!1}))},createVisibleShow:function(){this.createVisible=!0},onCreate:function(e){var t=this;this.createError={},this.createLoading=!0,Object(i["b"])(this.createForm).then((function(a){t.$message({message:a.message,type:"success"}),t.resetCreateForm(e),t.createVisible=!1,t.offset=0,t.getRoles()})).catch((function(e){var a=e.response.data;422===a.code&&(t.createError=a.data)})).finally((function(){t.createLoading=!1}))},resetCreateForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){this.offset=0,this.getRoles()},resetForm:function(e){this.$refs[e].resetFields(),this.offset=0,this.getRoles()},tableSortChange:function(e){this.order=e.order?e.order:"descending",this.sort=e.prop,this.offset=0,this.getRoles()},getRoles:function(){var e=this;this.loading=!0;var t={offset:this.offset,limit:this.limit,order:this.order,sort:this.sort,name:this.formInline.name,guard_name:"admin"};""!==Object(r["g"])(this.formInline.time[0])&&(t["start_at"]=Object(r["g"])(this.formInline.time[0])),""!==Object(r["g"])(this.formInline.time[1])&&(t["end_at"]=Object(r["g"])(this.formInline.time[1])),Object(i["e"])(t).then((function(t){var a=t.data;e.loading=!1,e.tableData=a.roles,e.total=a.total})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0}))},handleSizeChange:function(e){this.limit=e,this.getRoles()},handleCurrentChange:function(e){this.offset=e,this.getRoles()},rTime:function(e,t){return Object(r["g"])(e[t.property])},handleDelete:function(e){var t=this;Object(i["c"])({id:e}).then((function(e){t.$message({message:e.message,type:"success"}),t.getRoles()}))},handleEdit:function(e){var t=this;Object(i["d"])({id:e.id}).then((function(e){t.updateError={};var a=e.data;t.updateVisible=!0,t.updateForm=a}))},syncPermissions:function(e){var t=e.id,a=e.name;this.syncPermissionsId=t,this.syncPermissionsVisible=!0,this.syncPermissionsTitle=a},success:function(){this.syncPermissionsId=0,this.syncPermissionsVisible=!1}}},c=l,m=a("2877"),d=Object(m["a"])(c,o,n,!1,null,"e26f2b32",null);t["default"]=d.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a39b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{staticClass:"app-container over-flow",style:{height:e.offsetHeight+"px"},attrs:{span:24}},[a("el-form",{attrs:{"label-position":"top","label-width":"80px",model:e.upload}},[a("el-form-item",{attrs:{label:e.$t("file.directoryName")}},[a("el-radio-group",{model:{value:e.upload.radio1,callback:function(t){e.$set(e.upload,"radio1",t)},expression:"upload.radio1"}},[a("el-radio",{attrs:{label:1,border:""}},[e._v(e._s(e.$t("file.uploadFileText.currentDirectory")))]),a("el-radio",{attrs:{label:2,border:""}},[e._v(e._s(e.$t("file.uploadFileText.specifyDirectory")))])],1)],1),a("el-form-item",{attrs:{"label-width":"0",error:2===e.upload.radio1&&e.error.directory?e.error.directory[0]:""}},[1===e.upload.radio1?a("span",[e._v(" "+e._s(e.directory)+" ")]):e._e(),2===e.upload.radio1?a("span",[a("help"),a("el-input",{staticClass:"margin-t-10",attrs:{type:"text",placeholder:e.$t("file.uploadFileText.rootDirectory"),minlength:"1",maxlength:"60","show-word-limit":""},model:{value:e.upload.name,callback:function(t){e.$set(e.upload,"name",t)},expression:"upload.name"}})],1):e._e()]),a("el-form-item",{attrs:{label:e.$t("file.uploadFile")}},[a("el-upload",{ref:"upload",staticClass:"upload-container",attrs:{drag:"",headers:e.headers,action:e.action,data:e.uploadData,"file-list":e.fileList,"before-upload":e.beforeUpload,"on-success":e.successUpload,"on-remove":e.removeUpload,"on-error":e.errorUpload,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(e._s(e.$t("file.uploadFileText.uploadText1"))),a("em",[e._v(e._s(e.$t("file.uploadFileText.uploadText2")))])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-alert",{staticStyle:{padding:"0",color:"#888"},attrs:{closable:!1,type:""}},[a("template",{slot:"default"},[e._v(" "+e._s(e.$t("file.uploadFileText.help.title"))+"： "),a("ol",{staticStyle:{margin:"0"}},[a("li",[e._v(e._s(e.$t("file.uploadFileText.help.li1")))]),a("li",[e._v(e._s(e.$t("file.uploadFileText.help.li2")))]),a("li",[e._v(e._s(e.$t("file.uploadFileText.help.li3")))]),a("li",[e._v(e._s(e.$t("file.uploadFileText.help.li4.text1"))+" "),a("el-tag",{attrs:{type:"danger"}},[e._v("/")]),e._v(" "+e._s(e.$t("file.uploadFileText.help.li4.text2"))+" "),a("el-tag",{attrs:{type:"danger"}},[e._v("\\")]),e._v(" "+e._s(e.$t("file.uploadFileText.help.li4.text3"))+" ")],1)])])],2)],1)])],1),a("el-form-item",[a("el-alert",{attrs:{closable:!1,title:e.$t("file.uploadFileText.warnText"),type:"warning","show-icon":""}})],1)],1)],1)],1)},n=[],r=(a("b0c0"),a("0fd3")),i=a("5f87"),s=a("3f5e"),l={name:"UploadFile",components:{help:r["default"]},props:{directory:{type:String,default:"/",required:!0}},data:function(){return{upload:{name:"",radio1:1},offsetHeight:0,headers:{},action:"",uploadData:{},fileList:[],error:{}}},mounted:function(){this.offsetHeight=document.body.offsetHeight,this.setHeader(),this.setAction(),this.clearFiles()},methods:{setHeader:function(){var e="en";switch(this.$store.getters.language){case"zh":e="zh-CN";break;default:e="en"}this.headers={Authorization:"Bearer "+Object(i["a"])(),Lang:e}},setAction:function(){this.action="/api/admin/file/upload"},beforeUpload:function(e){var t;t=1===this.upload.radio1?this.directory:2===this.upload.radio1?""===this.upload.name?"/":"/"+this.upload.name:"/",this.uploadData.directory=t,this.uploadData.name=e.name},successUpload:function(e,t,a){},errorUpload:function(e,t,a){var o=JSON.parse(e.message);this.$message.error(o.message),this.error=o.data},removeUpload:function(e,t){var a="/"+e.response.data.path,o=[];o.push(a),Object(s["b"])({paths:o}).then((function(e){}))},clearFiles:function(){this.$refs.upload.clearFiles()}}},c=l,m=(a("b836"),a("2877")),d=Object(m["a"])(c,o,n,!1,null,"0721728c",null);t["default"]=d.exports},a5e5:function(e,t,a){},a5f0:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"app-container"},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v(e._s(e.$t("common.create")))])],1),a("el-form-item",{attrs:{label:e.$t("genTable.name"),prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.comment"),prop:"comment"}},[a("el-input",{model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.engine"),prop:"engine"}},[a("el-input",{model:{value:e.form.engine,callback:function(t){e.$set(e.form,"engine",t)},expression:"form.engine"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.charset"),prop:"charset"}},[a("el-input",{model:{value:e.form.charset,callback:function(t){e.$set(e.form,"charset",t)},expression:"form.charset"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.collation"),prop:"collation"}},[a("el-input",{model:{value:e.form.collation,callback:function(t){e.$set(e.form,"collation",t)},expression:"form.collation"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.created_at_start"),prop:"created_at_start"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","time-arrow-control":""},model:{value:e.form.created_at_start,callback:function(t){e.$set(e.form,"created_at_start",t)},expression:"form.created_at_start"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.created_at_end"),prop:"created_at_end"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","time-arrow-control":""},model:{value:e.form.created_at_end,callback:function(t){e.$set(e.form,"created_at_end",t)},expression:"form.created_at_end"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.updated_at_start"),prop:"updated_at_start"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","time-arrow-control":""},model:{value:e.form.updated_at_start,callback:function(t){e.$set(e.form,"updated_at_start",t)},expression:"form.updated_at_start"}})],1),a("el-form-item",{attrs:{label:e.$t("genTable.updated_at_end"),prop:"updated_at_end"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss","time-arrow-control":""},model:{value:e.form.updated_at_end,callback:function(t){e.$set(e.form,"updated_at_end",t)},expression:"form.updated_at_end"}})],1),a("el-form-item",[a("el-button",{attrs:{loading:e.loading,icon:"el-icon-search",type:"primary","native-type":"submit"}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:e.resetForm}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.data,"default-sort":{prop:e.form.sort,order:e.form.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("genTable.name"),sortable:""}}),a("el-table-column",{attrs:{prop:"comment",label:e.$t("genTable.comment"),sortable:""}}),a("el-table-column",{attrs:{prop:"engine",label:e.$t("genTable.engine"),sortable:""}}),a("el-table-column",{attrs:{prop:"charset",label:e.$t("genTable.charset"),sortable:""}}),a("el-table-column",{attrs:{prop:"collation",label:e.$t("genTable.collation"),sortable:""}}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),sortable:""}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),sortable:""}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(e._s(e.$t("common.update")))]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.form.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("create",{ref:"create",on:{done:e.getList}}),a("update",{ref:"update",on:{done:e.getList}})],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("4e82"),a("74b1")),i={name:"genTable.genTables",components:{create:function(){return Promise.resolve().then(a.bind(null,"5134"))},update:function(){return Promise.resolve().then(a.bind(null,"29f2"))}},data:function(){return{loading:!1,data:[],total:0,form:{offset:1,limit:10,order:"descending",sort:"created_at",name:"",comment:"",engine:"",charset:"",collation:"",created_at_start:"",created_at_end:"",updated_at_start:"",updated_at_end:""}}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["g"])(this.form).then((function(t){var a=t.data,o=a.data,n=void 0===o?[]:o,r=a.total,i=void 0===r?0:r;e.data=n,e.total=i})).catch((function(t){e.data=[],e.total=0})).finally((function(t){e.loading=!1}))},handleSizeChange:function(e){this.form.limit=e,this.getList()},handleCurrentChange:function(e){this.form.offset=e,this.getList()},tableSortChange:function(e){this.form.order=e.order?e.order:"descending",this.form.sort=e.prop,this.form.offset=1,this.getList()},onSubmit:function(){this.form.offset=1,this.getList()},resetForm:function(){this.$refs.form.resetFields(),this.form.offset=1,this.getList()},handleDelete:function(e){var t=this,a=e.id;this.$confirm(this.$t("common.confirmDelete"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirmButtonText"),cancelButtonText:this.$t("common.cancelButtonText"),type:"warning"}).then((function(){var e=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["e"])({id:a}).then((function(e){t.$message({showClose:!0,message:e.message,type:"success"}),t.getList()})).finally((function(t){e.close()}))})).catch((function(){}))},handleCreate:function(){this.$refs.create.init()},handleEdit:function(e){var t=e.id;this.$refs.update.init(t)}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"7a062116",null);t["default"]=c.exports},a6dd:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,stripe:""}},[a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("e-icon",{attrs:{"icon-name":t.row.icon}}),e._v(" "+e._s(e.$t("route."+t.row.name))+" ")]}}])},[a("template",{slot:"header"},[a("el-alert",{attrs:{title:e.$t("admin.navSetting.refresh"),type:"warning",closable:!1}})],1)],2),a("el-table-column",{attrs:{label:e.$t("admin.navSetting.cache")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:e.cacheChange},model:{value:t.row.no_cache,callback:function(a){e.$set(t.row,"no_cache",a)},expression:"scope.row.no_cache"}})]}}])}),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:e.affixChange},model:{value:t.row.affix,callback:function(a){e.$set(t.row,"affix",a)},expression:"scope.row.affix"}})]}}])},[a("template",{slot:"header"},[e._v(" "+e._s(e.$t("admin.navSetting.affix"))+" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("admin.navSetting.need"),placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1)],2)],1)],1)],1)},n=[],r=(a("d3b7"),a("d81d"),a("b0c0"),a("50fc")),i={data:function(){return{loading:!1,data:[]}},mounted:function(){this.get()},methods:{get:function(){var e=this;this.loading=!0,Object(r["e"])().then((function(t){var a=t.data.list;e.data=a})).catch((function(){e.data=[]})).finally((function(){e.loading=!1}))},cacheChange:function(){var e=this,t=this.data.map((function(e){var t={};return t.name=e.name,t.no_cache=e.no_cache,t}));Object(r["g"])({data:t}).then((function(t){e.$notify({message:t.message,type:"success"})}))},affixChange:function(){var e=this,t=this.data.map((function(e){var t={};return t.name=e.name,t.affix=e.affix,t}));Object(r["f"])({data:t}).then((function(t){e.$notify({message:t.message,type:"success"})}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"42cf6b60",null);t["default"]=c.exports},a9b3:function(e,t,a){},ac76:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form-item",[a("el-tree",{ref:"tree",attrs:{data:e.data,props:e.defaultProps,"node-key":"id","default-expand-all":"","show-checkbox":"","default-checked-keys":e.permissionIds,"check-on-click-node":"","check-strictly":""}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.submit")))])],1)],1)},n=[],r=(a("a9e3"),a("d3b7"),a("50fc")),i=a("0feb"),s={name:"SyncPermissions",props:{success:{type:Function,default:null},id:{type:Number,default:0,required:!0}},data:function(){return{loading:!0,data:[],defaultProps:{children:"children",label:"title"},permissionIds:[],submitLoading:!1}},watch:{id:function(){this.role()}},created:function(){this.role()},methods:{role:function(){var e=this;this.id>0&&(this.loading=!0,this.data=[],Object(r["a"])({id:this.id}).then((function(t){var a=t.data;e.permissionIds=a.permissionIds,e.getTree()})).catch((function(t){e.loading=!1})))},getTree:function(){var e=this;Object(i["e"])({guard_name:"admin"}).then((function(t){e.loading=!1,e.data=t.data.tree})).catch((function(t){e.loading=!1}))},onSubmit:function(){var e=this;this.submitLoading=!0;var t=this.$refs.tree.getCheckedKeys();Object(r["i"])({id:this.id,permissions:t}).then((function(t){e.$message({message:t.message,type:"success"}),e.success()})).finally((function(){e.submitLoading=!1}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"a6bd65c4",null);t["default"]=m.exports},b057:function(e,t,a){"use strict";a("8d50")},b1a1:function(e,t,a){},b4f6:function(e,t,a){},b61c:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("notification.sender")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",multiple:""},on:{change:e.selectChange},model:{value:e.form.admins,callback:function(t){e.$set(e.form,"admins",t)},expression:"form.admins"}},e._l(e.admins,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("notification.message"),error:e.error.message?e.error.message[0]:""}},[a("Tinymce",{ref:"editor",attrs:{height:400,"editor-image":!1},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v(e._s(e.$t("notification.send")))])],1)],1)],1)],1)],1)},n=[],r=a("8256"),i=a("277f"),s={name:"NotificationSend",components:{Tinymce:r["a"]},data:function(){return{form:{message:"",admins:["all"]},admins:[{id:"all",name:this.$t("notification.all")}],error:[],loading:!1}},mounted:function(){this.getAdmins()},methods:{keydown:function(e){console.log(e)},selectChange:function(e){0===e.length&&(this.form.admins=["all"])},getAdmins:function(){var e=this;Object(i["a"])().then((function(t){var a=t.data.admins;a.unshift({id:"all",name:e.$t("notification.all")}),e.admins=a}))},send:function(){var e=this;this.loading=!0;var t=[],a=this.form.admins.indexOf("all");a<0&&(t=this.form.admins),Object(i["f"])({admins:t,message:this.form.message}).then((function(t){e.$message({message:t.message,type:"success"}),e.form={message:"",admins:["all"]},e.$refs.editor.setContent(""),e.loading=!1})).catch((function(t){if(422===t.response.status){var a=t.response.data.data;e.error=a,e.loading=!1}}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"0a742822",null);t["default"]=m.exports},b705:function(e,t,a){"use strict";a.d(t,"k",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"j",(function(){return s})),a.d(t,"i",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"c",(function(){return f})),a.d(t,"e",(function(){return p}));var o=a("b775");function n(e){return Object(o["a"])({url:"/dictTypes",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/dictType",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/dictType/create",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/dictType/update",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/dictType/delete",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/dictData/list",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/dictData",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/dictData/create",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/dictData/update",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/dictData/delete",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/dictData/listClass",method:"post",data:e})}},b829:function(e,t,a){"use strict";a.r(t);a("fb6a"),a("ac1f"),a("841c");var o,n,r={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},i=r,s=a("2877"),l=Object(s["a"])(i,o,n,!1,null,null,null);t["default"]=l.exports},b833:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"formInline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"user.create",expression:"'user.create'"}],attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.createVisible=!0}}},[e._v(" "+e._s(e.$t("common.create"))+" ")])],1),a("el-form-item",{attrs:{label:e.$t("admin.name"),prop:"name"}},[a("el-input",{attrs:{placeholder:e.$t("admin.name")},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{attrs:{label:e.$t("common.createTime"),prop:"time"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"~","start-placeholder":e.$t("common.startTime"),"end-placeholder":e.$t("common.endTime"),align:"right"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),a("el-col",[a("el-form-item",[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.search")))]),a("el-button",{attrs:{loading:e.loading},on:{click:function(t){return e.resetForm("formInline")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)],1),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,"default-sort":{prop:e.sort,order:e.order}},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("user.name"),sortable:""}}),a("el-table-column",{attrs:{prop:"email",label:e.$t("user.email"),sortable:""}}),a("el-table-column",{attrs:{prop:"created_at",label:e.$t("common.createdAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{prop:"updated_at",label:e.$t("common.updatedAt"),formatter:e.rTime,sortable:""}}),a("el-table-column",{attrs:{label:e.$t("common.handle"),width:"600px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"user.update",expression:"'user.update'"}],attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(" "+e._s(e.$t("common.update"))+" ")]),a("el-popconfirm",{directives:[{name:"permission",rawName:"v-permission",value:"user.delete",expression:"'user.delete'"}],attrs:{title:e.$t("common.confirmDelete"),"confirm-button-text":e.$t("common.confirmButtonText"),"cancel-button-text":e.$t("common.cancelButtonText")},on:{onConfirm:function(a){return e.handleDelete(t.row.id)}}},[a("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",type:"danger"},slot:"reference"},[e._v(" "+e._s(e.$t("common.delete"))+" ")])],1)]}}])})],1)],1),a("el-col",{staticClass:"margin-t-10",attrs:{span:24}},[a("el-pagination",{attrs:{"page-sizes":[10,25,50],"page-size":10,"current-page":e.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("common.create"),visible:e.createVisible},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"createForm",attrs:{model:e.createForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("user.name"),prop:"name",error:e.createError.name?e.createError.name[0]:""}},[a("el-input",{model:{value:e.createForm.name,callback:function(t){e.$set(e.createForm,"name",t)},expression:"createForm.name"}})],1),a("el-form-item",{attrs:{label:e.$t("user.email"),prop:"email",error:e.createError.email?e.createError.email[0]:""}},[a("el-input",{model:{value:e.createForm.email,callback:function(t){e.$set(e.createForm,"email",t)},expression:"createForm.email"}})],1),a("el-form-item",{attrs:{label:e.$t("user.password"),prop:"password",error:e.createError.password?e.createError.password[0]:""}},[a("el-input",{attrs:{"show-password":""},model:{value:e.createForm.password,callback:function(t){e.$set(e.createForm,"password",t)},expression:"createForm.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:function(t){return e.onCreate("createForm")}}},[e._v(e._s(e.$t("common.submit")))]),a("el-button",{on:{click:function(t){return e.resetCreateForm("createForm")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.$t("common.update"),visible:e.updateVisible},on:{"update:visible":function(t){e.updateVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("user.name"),prop:"name",error:e.updateError.name?e.updateError.name[0]:""}},[a("el-input",{model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),a("el-form-item",{attrs:{label:e.$t("user.email"),prop:"email",error:e.updateError.email?e.updateError.email[0]:""}},[a("el-input",{model:{value:e.updateForm.email,callback:function(t){e.$set(e.updateForm,"email",t)},expression:"updateForm.email"}})],1),a("el-form-item",{attrs:{label:e.$t("user.password"),prop:"password",error:e.updateError.password?e.updateError.password[0]:""}},[a("el-input",{attrs:{"show-password":"",placeholder:e.$t("user.emptyPasswordText")},model:{value:e.updateForm.password,callback:function(t){e.$set(e.updateForm,"password",t)},expression:"updateForm.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.updateLoading},on:{click:function(t){return e.onUpdate("updateForm")}}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)],1)},n=[],r=(a("d3b7"),a("4e82"),a("b0c0"),a("ed08")),i=a("c24f"),s={name:"user.users",data:function(){return{createForm:{name:"",email:"",password:""},updateForm:{name:"",email:"",password:""},formInline:{name:"",time:""},total:0,loading:!0,order:"descending",sort:"created_at",offset:0,limit:10,tableData:[],pickerOptions:{shortcuts:[{text:this.$t("common.week"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:this.$t("common.oneMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:this.$t("common.threeMonth"),onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},createError:{},createLoading:!1,createVisible:!1,updateError:{},updateLoading:!1,updateVisible:!1,updateId:0}},mounted:function(){this.getUsers()},methods:{onUpdate:function(e){var t=this;this.updateError={},this.updateLoading=!0,""===this.updateForm.password&&delete this.updateForm.password,Object(i["s"])(this.updateForm).then((function(e){t.$message({message:e.message,type:"success"}),t.updateVisible=!1,t.getUsers()})).catch((function(e){var a=e.response.data;422===a.code&&(t.updateError=a.data)})).finally((function(){t.updateLoading=!1}))},onCreate:function(e){var t=this;this.createError={},this.createLoading=!0,Object(i["e"])(this.createForm).then((function(a){t.$message({message:a.message,type:"success"}),t.resetCreateForm(e),t.createVisible=!1,t.offset=0,t.getUsers()})).catch((function(e){var a=e.response.data;422===a.code&&(t.createError=a.data)})).finally((function(){t.createLoading=!1}))},resetCreateForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){this.offset=0,this.getUsers()},resetForm:function(e){this.$refs[e].resetFields(),this.offset=0,this.getUsers()},tableSortChange:function(e){this.order=e.order?e.order:"descending",this.sort=e.prop,this.offset=0,this.getUsers()},getUsers:function(){var e=this;this.loading=!0;var t={offset:this.offset,limit:this.limit,order:this.order,sort:this.sort,name:this.formInline.name};""!==Object(r["g"])(this.formInline.time[0])&&(t["start_at"]=Object(r["g"])(this.formInline.time[0])),""!==Object(r["g"])(this.formInline.time[1])&&(t["end_at"]=Object(r["g"])(this.formInline.time[1])),Object(i["u"])(t).then((function(t){var a=t.data;e.loading=!1,e.tableData=a.users,e.total=a.total})).catch((function(t){e.loading=!1,e.tableData=[],e.total=0}))},handleSizeChange:function(e){this.limit=e,this.getUsers()},handleCurrentChange:function(e){this.offset=e,this.getUsers()},rTime:function(e,t){return Object(r["g"])(e[t.property])},handleDelete:function(e){var t=this,a=this.$loading({lock:!0,text:this.$t("common.loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["f"])({id:e}).then((function(e){t.$message({message:e.message,type:"success"}),t.getUsers()})).finally((function(){a.close()}))},handleEdit:function(e){var t=this,a=this.$loading({lock:!0,text:this.$t("common.loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.updateError={},Object(i["t"])({id:e.id}).then((function(e){var a=e.data;t.updateVisible=!0,t.updateForm=a})).finally((function(){a.close()}))}}},l=s,c=a("2877"),m=Object(c["a"])(l,o,n,!1,null,"34e5f90c",null);t["default"]=m.exports},b836:function(e,t,a){"use strict";a("8485")},c087:function(e,t,a){},c62e:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v(" WeChat ")]),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v(" QQ ")])])},n=[],r={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},i=r,s=(a("d9fb"),a("2877")),l=Object(s["a"])(i,o,n,!1,null,"7309fbbb",null);t["default"]=l.exports},c677:function(e,t,a){},c783:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("common.update"),visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleUpdate(t)}}},[a("el-form-item",{attrs:{label:e.$t("dictData.label"),prop:"label",error:e.error.label}},[a("el-input",{model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.value"),prop:"value",error:e.error.value}},[a("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.sort"),prop:"sort",error:e.error.sort}},[a("el-input-number",{attrs:{min:1},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.default"),prop:"default",error:e.error.default}},[a("el-switch",{model:{value:e.form.default,callback:function(t){e.$set(e.form,"default",t)},expression:"form.default"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.status"),prop:"status",error:e.error.status}},[a("el-switch",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.list_class"),prop:"list_class",error:e.error.list_class}},[a("el-select",{model:{value:e.form.list_class,callback:function(t){e.$set(e.form,"list_class",t)},expression:"form.list_class"}},e._l(e.listClass,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("dictData.remark"),prop:"remark",error:e.error.remark}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)},n=[],r=(a("d3b7"),a("25f0"),a("b705")),i={name:"dict.data.update",data:function(){return{dialogVisible:!1,loading:!1,form:{},error:{},listClass:[]}},methods:{init:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["a"])({id:e}).then((function(e){Object(r["e"])().then((function(a){var o=a.data.list,n=void 0===o?[]:o;t.listClass=n,t.dialogVisible=!0;var r=e.data;r.status=1===r.status,r.default=1===r.default,t.form=r}))})).finally((function(e){a.close()}))},handleUpdate:function(){var e=this;this.loading=!0,this.error={},!0===this.form.status?this.form.status=1:this.form.status=0,!0===this.form.default?this.form.default=1:this.form.default=0,Object(r["f"])(this.form).then((function(t){e.$message({showClose:!0,message:t.message,type:"success"}),e.$emit("updateDone",t.data)})).catch((function(t){var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()})).finally((function(t){e.form.status=1===e.form.status,e.form.default=1===e.form.default,e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"1524820e",null);t["default"]=c.exports},cafe:function(e,t,a){},cc5e:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"h",(function(){return m})),a.d(t,"c",(function(){return d}));var o=a("b775");function n(e){return Object(o["a"])({url:"/roles",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/role",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/role/all",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/role/syncPermissions",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/role/syncRoles",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/role/create",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/role/update",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/role/delete",method:"post",data:e})}},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cd63:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("system.wechatPay.test.title"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","label-position":"top"}},[a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechatPay.test.appid"),prop:"appid",error:e.error.appid?e.error.appid[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"18","show-word-limit":""},model:{value:e.form.appid,callback:function(t){e.$set(e.form,"appid",t)},expression:"form.appid"}}),a("el-col",{staticClass:"text-help",attrs:{span:24}},[a("el-link",{attrs:{type:"primary",underline:!1,href:"https://kf.qq.com/faq/1801116VJfua1801113QVNVz.html",target:"_blank"}},[e._v(" "+e._s(e.$t("system.wechatPay.test.help1"))+" ")])],1)],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechatPay.test.notify_url"),prop:"notify_url",error:e.error.notify_url?e.error.notify_url[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"100","show-word-limit":""},model:{value:e.form.notify_url,callback:function(t){e.$set(e.form,"notify_url",t)},expression:"form.notify_url"}}),a("el-col",{staticClass:"text-help",staticStyle:{color:"#909399"},attrs:{span:24}},[e._v(" "+e._s(e.$t("system.wechatPay.test.help2"))),a("span",{staticStyle:{color:"#F56C6C"}},[e._v(e._s(e.$t("system.wechatPay.test.help3"))+" "),a("code",[e._v("/")])])])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.create}},[e._v(e._s(e.$t("common.submit")))])],1),e.code?a("el-form-item",{attrs:{label:e.$t("system.wechatPay.test.code")}},[a("el-alert",{attrs:{title:e.$t("system.wechatPay.test.help4"),type:"warning",closable:!1}}),a("canvas",{ref:"code",staticClass:"code margin-t-5",attrs:{id:"code"}})],1):e._e()],1)],1)},n=[],r=(a("d3b7"),a("8593")),i=a("d055"),s=a.n(i),l={name:"wechatPayTest",data:function(){return{dialogVisible:!1,form:{appid:"",notify_url:""},error:{},loading:!1,code:""}},methods:{init:function(){this.dialogVisible=!0},create:function(){var e=this;this.loading=!0,this.error={},Object(r["i"])(this.form).then((function(t){e.code=t.data.code,e.$nextTick((function(){s.a.toCanvas(document.getElementById("code"),e.code)}))})).catch((function(t){var a=t.response.data;422===a.code&&(e.error=a.data)})).finally((function(){e.loading=!1}))}}},c=l,m=a("2877"),d=Object(m["a"])(c,o,n,!1,null,"4a4375f8",null);t["default"]=d.exports},d02c:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto"}},[a("el-form-item",{attrs:{label:e.$t("permission.name"),prop:"name",error:e.error.name?e.error.name[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.title"),prop:"title",error:e.error.title?e.error.title[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.icon"),prop:"icon",error:e.error.icon?e.error.icon[0]:""}},[a("e-icon-picker",{model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.path"),prop:"path",error:e.error.path?e.error.path[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.component"),prop:"component",error:e.error.component?e.error.component[0]:""}},[a("el-input",{attrs:{maxlength:"60","show-word-limit":""},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.sort"),prop:"sort",error:e.error.sort?e.error.sort[0]:""}},[a("el-input-number",{attrs:{min:1,max:999},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:e.$t("permission.hidden"),prop:"hidden",error:e.error.hidden?e.error.hidden[0]:""}},[a("el-radio-group",{model:{value:e.form.hidden,callback:function(t){e.$set(e.form,"hidden",t)},expression:"form.hidden"}},[a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("permission.nav")))]),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("permission.btn")))])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.onSubmit("form")}}},[e._v(e._s(e.$t("common.submit")))]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("common.reset")))])],1)],1)],1)},n=[],r=(a("a9e3"),a("d3b7"),a("0feb")),i={name:"Update",props:{success:{type:Function,default:null},id:{type:Number,default:0,required:!0}},data:function(){return{form:{name:"",title:"",icon:"el-icon-document",path:"",component:"",sort:1,hidden:1},error:{},pidData:[],loading:!1}},watch:{id:function(){this.info()}},created:function(){this.info()},methods:{info:function(){var e=this;this.id>0&&(this.loading=!0,Object(r["d"])({id:this.id}).then((function(t){e.error={},e.form=t.data})).finally((function(t){e.loading=!1})))},onSubmit:function(e){var t=this;this.loading=!0,this.error={};var a=this.form;a.guard_name="admin",0===a.pid&&delete a.pid,Object(r["f"])(a).then((function(a){t.$message({message:a.message,type:"success"}),t.resetForm(e),t.success()})).catch((function(e){var a=e.response.data;422===a.code&&(t.error=a.data)})).finally((function(){t.loading=!1}))},resetForm:function(e){this.$refs[e].resetFields()}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"76faccf0",null);t["default"]=c.exports},d9fb:function(e,t,a){"use strict";a("a9b3")},dcff:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s}));var o=a("b775");function n(e){return Object(o["a"])({url:"/exception/logs",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/exception/amended",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/exception/log/files",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/exception/log/file",method:"post",data:e})}},e005:function(e,t,a){},e7be:function(e,t,a){"use strict";a("c677")},e946:function(e,t,a){"use strict";a("0a7f")},ecac:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("admin.name"),prop:"name",error:e.error.name?e.error.name[0]:""}},[a("el-input",{model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.email"),prop:"email",error:e.error.email?e.error.email[0]:""}},[a("el-input",{model:{value:e.updateForm.email,callback:function(t){e.$set(e.updateForm,"email",t)},expression:"updateForm.email"}})],1),a("el-form-item",{attrs:{label:e.$t("admin.password"),prop:"password",error:e.error.password?e.error.password[0]:""}},[a("el-input",{attrs:{"show-password":"",placeholder:e.$t("admin.emptyPasswordText")},model:{value:e.updateForm.password,callback:function(t){e.$set(e.updateForm,"password",t)},expression:"updateForm.password"}})],1),e.wechatOpen||e.dingTalkOpen?a("el-form-item",[a("table",{staticClass:"el-table",attrs:{border:"0",cellpadding:"0",cellspacing:"0"}},[a("colgroup",[a("col",{attrs:{name:"el-table_1_column_1",width:"100"}}),a("col",{attrs:{name:"el-table_1_column_2",width:"200"}}),a("col",{attrs:{name:"el-table_1_column_3",width:"120"}}),a("col",{attrs:{name:"el-table_1_column_4",width:"120"}}),a("col",{attrs:{name:"el-table_1_column_5",width:"500"}})]),a("thead",[a("tr",[a("th",{staticClass:"el-table_1_column_1 is-leaf el-table__cell",attrs:{colspan:"1",rowspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("system.user.bindingInfo")))])]),a("th",{staticClass:"el-table_1_column_2 is-leaf el-table__cell",attrs:{colspan:"1",rowspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("system.user.detail")))])]),a("th",{staticClass:"el-table_1_column_3 is-leaf el-table__cell",attrs:{colspan:"1",rowspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("system.user.bindingTime")))])]),a("th",{staticClass:"el-table_1_column_4 is-leaf el-table__cell",attrs:{colspan:"1",rowspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("system.user.syncTime")))])]),a("th",{staticClass:"el-table_1_column_5 is-leaf el-table__cell",attrs:{colspan:"1",rowspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("table.actions")))])])])]),a("tbody",[e.dingTalkOpen?a("tr",{staticClass:"el-table__row"},[a("td",{staticClass:"el-table_1_column_1 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("system.dingtalk.name")))])]),a("td",{staticClass:"el-table_1_column_2 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[null!==e.dingTalk?a("div",{staticClass:"cell"},[a("div",{staticClass:"userinfo"},[a("el-avatar",{staticClass:"avatar",attrs:{size:"small",src:e.dingTalk.avatar}}),a("span",{staticClass:"name"},[e._v(e._s(e.dingTalk.name))])],1)]):a("div",{staticClass:"cell"},[e._v("-")])]),a("td",{staticClass:"el-table_1_column_3 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[null!==e.dingTalk?a("div",{staticClass:"cell"},[e._v(" "+e._s(e.dingTalk.created_at)+" ")]):a("div",{staticClass:"cell"},[e._v("-")])]),a("td",{staticClass:"el-table_1_column_4 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[null!==e.dingTalk?a("div",{staticClass:"cell"},[e._v(" "+e._s(e.dingTalk.updated_at)+" ")]):a("div",{staticClass:"cell"},[e._v("-")])]),a("td",{staticClass:"el-table_1_column_5 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[a("div",{staticClass:"cell"},[null!==e.dingTalk?a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"default"},on:{click:e.unbindDingTalk}},[a("svg-icon",{attrs:{"icon-class":"dingtalk"}}),e._v(" "+e._s(e.$t("system.dingtalk.unbind"))+" ")],1)],1):a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"default"},on:{click:e.dingTalkBind}},[a("svg-icon",{attrs:{"icon-class":"dingtalk"}}),e._v(" "+e._s(e.$t("system.dingtalk.bind"))+" ")],1)],1)])])]):e._e(),e.wechatOpen?a("tr",{staticClass:"el-table__row"},[a("td",{staticClass:"el-table_1_column_1 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.$t("system.wechat.name")))])]),a("td",{staticClass:"el-table_1_column_2 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[null!==e.wechat?a("div",{staticClass:"cell"},[a("div",{staticClass:"userinfo"},[a("el-avatar",{staticClass:"avatar",attrs:{size:"small",src:e.wechat.headimgurl}}),a("span",{staticClass:"name"},[e._v(e._s(e.wechat.nickname))])],1)]):a("div",{staticClass:"cell"},[e._v("-")])]),a("td",{staticClass:"el-table_1_column_3 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[null!==e.wechat?a("div",{staticClass:"cell"},[e._v(" "+e._s(e.wechat.created_at)+" ")]):a("div",{staticClass:"cell"},[e._v("-")])]),a("td",{staticClass:"el-table_1_column_4 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[null!==e.wechat?a("div",{staticClass:"cell"},[e._v(" "+e._s(e.wechat.updated_at)+" ")]):a("div",{staticClass:"cell"},[e._v("-")])]),a("td",{staticClass:"el-table_1_column_5 el-table__cell",attrs:{rowspan:"1",colspan:"1"}},[a("div",{staticClass:"cell"},[null!==e.wechat?a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"default"},on:{click:e.unbindWechat}},[a("svg-icon",{attrs:{"icon-class":"wechat"}}),e._v(" "+e._s(e.$t("system.wechat.unbind"))+" ")],1)],1):a("div",{staticClass:"cell"},[a("el-button",{attrs:{type:"default"},on:{click:e.wechatBind}},[a("svg-icon",{attrs:{"icon-class":"wechat"}}),e._v(" "+e._s(e.$t("system.wechat.bind"))+" ")],1)],1)])])]):e._e()])])]):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onUpdate("updateForm")}}},[e._v(e._s(e.$t("common.submit")))])],1)],1),a("nav-setting"),a("el-dialog",{attrs:{visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("div",{attrs:{id:"login_container"}})])],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("ac1f"),a("5319"),a("50fc")),i=a("c24f"),s=a("4360"),l=a("ed08"),c={name:"Profile",components:{navSetting:function(){return a.e("chunk-2d20902b").then(a.bind(null,"a6dd"))}},data:function(){return{updateForm:{name:"",email:"",password:""},formInline:{name:"",time:""},error:{},dingTalk:null,wechat:null,visible:!1,dingTalkOpen:!1,wechatOpen:!1}},watch:{$route:{handler:function(e){this.wechatBindCallBack(e.query)},immediate:!0}},created:function(){this.dingTalkBindCallBack()},mounted:function(){this.getUser(),this.getSetting()},methods:{getSetting:function(){var e=this;this.$store.dispatch("user/setting").then((function(t){e.dingTalkOpen=t.ding_talk_open,e.wechatOpen=t.wechat_open}))},getUser:function(){var e=this;Object(i["m"])().then((function(t){var a=t.data;e.updateForm.name=a.name,e.updateForm.email=a.email,e.getDingTalkInfo(),e.getWechatInfo()}))},onUpdate:function(e){var t=this;this.error={},""===this.updateForm.password&&delete this.updateForm.password,Object(r["k"])(this.updateForm).then((function(e){s["a"].dispatch("user/name",t.updateForm.name),t.$message({message:e.message,type:"success"}),t.updateVisible=!1})).catch((function(e){var a=e.response.data;422===a.code&&(t.error=a.data)}))},dingTalkBind:function(){Object(i["b"])().then((function(e){window.location.href=e.data.url}))},wechatBind:function(){var e=this;Object(i["d"])().then((function(t){Object(l["e"])("//res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js","WxLogin").then((function(){e.visible=!0,e.$nextTick((function(){var e=t.data;new WxLogin({self_redirect:!1,id:"login_container",appid:e.appid,scope:"snsapi_login",redirect_uri:e.redirect_uri,state:e.state,style:"",href:""})}))}))}))},getDingTalkInfo:function(){var e=this;Object(i["k"])().then((function(t){e.dingTalk=t.data}))},getWechatInfo:function(){var e=this;Object(i["x"])().then((function(t){e.wechat=t.data}))},dingTalkBindCallBack:function(){var e=this,t=Object(l["c"])(window.location.href);if(Object.prototype.hasOwnProperty.call(t,"authCode")){var a=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["h"])({state:t.state.replace("#/profile/index","")}).then((function(o){var n=o.data.check;n?Object(i["a"])({state:t.state.replace("#/profile/index",""),code:t.authCode}).then((function(t){e.$message({message:t.message,type:"success"}),e.getDingTalkInfo()})).finally((function(){a.close()})):a.close()}))}},wechatBindCallBack:function(e){var t=this;if(Object.prototype.hasOwnProperty.call(e,"code")){this.visible=!1;var a=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["w"])({state:e.state.replace("#/profile/index","")}).then((function(o){var n=o.data.check;n?Object(i["c"])({state:e.state.replace("#/profile/index",""),code:e.code,type:"oplatform"}).then((function(e){t.$message({message:e.message,type:"success"}),t.getWechatInfo()})).finally((function(){a.close()})):a.close()}))}},unbindDingTalk:function(){var e=this;Object(i["q"])().then((function(t){e.$message({message:t.message,type:"success"}),e.getDingTalkInfo()}))},unbindWechat:function(){var e=this;Object(i["r"])().then((function(t){e.$message({message:t.message,type:"success"}),e.getWechatInfo()}))}}},m=c,d=(a("1fb9"),a("2877")),u=Object(d["a"])(m,o,n,!1,null,null,null);t["default"]=u.exports},ef3c:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319");var o,n,r={created:function(){var e=this.$route,t=e.params,a=e.query,o=t.path;this.$router.replace({path:"/"+o,query:a})},render:function(e){return e()}},i=r,s=a("2877"),l=Object(s["a"])(i,o,n,!1,null,null,null);t["default"]=l.exports},f21b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("system.wechatPay.merchant_id"),prop:"merchant_id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.merchant_id,callback:function(t){e.$set(e.form,"merchant_id",t)},expression:"form.merchant_id"}})],1),a("el-form-item",{attrs:{label:e.$t("system.wechatPay.merchant_name"),prop:"merchant_name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.merchant_name,callback:function(t){e.$set(e.form,"merchant_name",t)},expression:"form.merchant_name"}})],1),e.form.apiV3key?a("el-form-item",[e.form.apiV3key?a("el-button",{attrs:{type:"",icon:"el-icon-link"},on:{click:e.wechatPayTest}},[e._v(" "+e._s(e.$t("system.wechatPay.test.title"))+" ")]):e._e()],1):e._e(),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechatPay.api_v3_key"),prop:"api_v3_key",error:e.error.api_v3_key?e.error.api_v3_key[0]:""}},[a("el-input",{attrs:{clearable:"",maxlength:"32",minlength:"32","show-word-limit":""},model:{value:e.form.api_v3_key,callback:function(t){e.$set(e.form,"api_v3_key",t)},expression:"form.api_v3_key"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-help"},on:{click:e.randomKey},slot:"append"},[e._v(" "+e._s(e.$t("system.wechatPay.randomKey"))+" ")])],1),a("el-col",{staticClass:"text-help",attrs:{span:24}},[a("el-link",{attrs:{type:"primary",underline:!1,href:"https://kf.qq.com/faq/180830E36vyQ180830AZFZvu.html",target:"_blank"}},[e._v(" "+e._s(e.$t("system.wechatPay.setApiV3Key"))+" ")])],1),a("el-col",{staticClass:"text-help",attrs:{span:24}},[e._v(" "+e._s(e.$t("system.wechatPay.helpApiV3Key"))+" ")])],1),a("el-form-item",{staticClass:"form-item-required",attrs:{label:e.$t("system.wechatPay.zip"),prop:"zip",error:e.error.zip?e.error.zip[0]:""}},[e.zip.name?a("el-col",{attrs:{span:24}},[a("i",{staticClass:"el-icon-paperclip"}),e._v(" "+e._s(e.zip.name)+" ")]):e._e(),a("el-upload",{ref:"zip",attrs:{action:"#","auto-upload":!1,name:"zip",accept:"application/zip","show-file-list":!1,limit:1,"on-change":e.onZipChange}},[a("el-button",{attrs:{loading:e.zipLoading,type:"default",icon:"el-icon-upload"}},[e._v(" "+e._s(e.$t("common.upload"))+" ")])],1),a("el-col",{staticClass:"text-help",attrs:{span:24}},[a("el-link",{attrs:{type:"primary",underline:!1,href:"https://kf.qq.com/faq/161222NneAJf161222U7fARv.html",target:"_blank"}},[e._v(e._s(e.$t("system.wechatPay.setZip")))])],1),a("el-col",{staticClass:"text-help",attrs:{span:24}},[e._v(e._s(e.$t("system.wechatPay.helpZip1")))]),a("el-col",{staticClass:"text-help",attrs:{span:24}},[e._v(e._s(e.$t("system.wechatPay.helpZip2")))])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.create}},[e._v(e._s(e.$t("common.submit")))])],1),a("el-dialog",{attrs:{title:e.$t("system.wechatPay.check.title"),visible:e.checkShow},on:{"update:visible":function(t){e.checkShow=t}}},[a("el-form",{attrs:{model:e.check}},[a("el-form-item",{attrs:{label:e.$t("system.wechatPay.check.merchantId"),prop:"merchantId"}},[e._v(" "+e._s(e.check.merchantId)+" ")]),a("el-form-item",{attrs:{label:e.$t("system.wechatPay.check.merchantName"),prop:"merchantName"}},[e._v(" "+e._s(e.check.merchantName)+" ")]),a("el-form-item",{attrs:{label:e.$t("system.wechatPay.check.version"),prop:"version"}},[e._v(" "+e._s(e.check.version)+" ")]),a("el-form-item",{attrs:{label:e.$t("system.wechatPay.check.serialNumber"),prop:"serialNumber"}},[e._v(" "+e._s(e.check.serialNumber)+" ")]),a("el-form-item",{attrs:{label:e.$t("system.wechatPay.check.notAfter"),prop:"notAfter"}},[e._v(" "+e._s(e.check.notAfter)+" ")]),a("el-form-item",{attrs:{label:e.$t("system.wechatPay.check.notBefore"),prop:"notBefore"}},[e._v(" "+e._s(e.check.notBefore)+" ")]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.checkClose}},[e._v(e._s(e.$t("system.wechatPay.check.close")))])],1)],1)],1),a("wechat-pay-test",{ref:"wechatPayTest"})],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("8593")),i={name:"wechatPay",components:{wechatPayTest:function(){return Promise.resolve().then(a.bind(null,"cd63"))}},data:function(){return{form:{merchant_id:"",merchant_name:"",api_v3_key:"",apiV3key:""},error:{},loading:!1,zipLoading:!1,zip:{},check:{version:"",serialNumber:"",notBefore:"",notAfter:"",merchantName:"",merchantId:""},checkShow:!1}},mounted:function(){this.getConfig()},methods:{getConfig:function(){var e=this;Object(r["c"])({type:"wechatPay"}).then((function(t){var a=t.data.config,o={};a.forEach((function(e){o[e.key]=e.value})),e.form.merchant_id=o.merchant_id,e.form.merchant_name=o.merchant_name,e.form.apiV3key=o.api_v3_key}))},randomKey:function(){var e=this;Object(r["e"])().then((function(t){var a=t.data.key;e.form.api_v3_key=a}))},create:function(){var e=this;this.loading=!0,this.error={};var t=new FormData;t.append("api_v3_key",this.form.api_v3_key),t.append("zip",this.zip.raw),Object(r["g"])(t).then((function(t){e.$message({message:t.message,type:"success"}),e.zip={},e.form.api_v3_key="",e.getConfig()})).catch((function(t){var a=t.response.data;422===a.code&&(e.error=a.data)})).finally((function(){e.loading=!1}))},onZipChange:function(e){var t=this;this.zipLoading=!0,this.checkShow=!1,this.check={};var a=new FormData;a.append("zip",e.raw),Object(r["h"])(a).then((function(a){t.zip=e,t.check=a.data,t.checkShow=!0})).finally((function(){t.zipLoading=!1,t.$refs.zip.clearFiles()}))},checkClose:function(){this.checkShow=!1},wechatPayTest:function(){this.$refs.wechatPayTest.init()}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"790e0bba",null);t["default"]=c.exports},f70d:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("common.create"),visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleCreate(t)}}},[a("el-form-item",{attrs:{label:e.$t("dictData.label"),prop:"label",error:e.error.label}},[a("el-input",{model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.value"),prop:"value",error:e.error.value}},[a("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.sort"),prop:"sort",error:e.error.sort}},[a("el-input-number",{attrs:{min:1},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.default"),prop:"defaultShow",error:e.error.default}},[a("el-switch",{model:{value:e.form.defaultShow,callback:function(t){e.$set(e.form,"defaultShow",t)},expression:"form.defaultShow"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.status"),prop:"statusShow",error:e.error.status}},[a("el-switch",{model:{value:e.form.statusShow,callback:function(t){e.$set(e.form,"statusShow",t)},expression:"form.statusShow"}})],1),a("el-form-item",{attrs:{label:e.$t("dictData.list_class"),prop:"list_class",error:e.error.list_class}},[a("el-select",{model:{value:e.form.list_class,callback:function(t){e.$set(e.form,"list_class",t)},expression:"form.list_class"}},e._l(e.listClass,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("dictData.remark"),prop:"remark",error:e.error.remark}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)},n=[],r=(a("d3b7"),a("25f0"),a("b705")),i={name:"dict.data.create",data:function(){return{dialogVisible:!1,loading:!1,form:{dict_type_id:0,label:"",value:"",sort:1,list_class:null,default:!1,defaultShow:!1,status:!0,statusShow:!0,remark:""},error:{},listClass:[]}},methods:{init:function(e){var t=this;Object(r["e"])().then((function(a){var o=a.data.list,n=void 0===o?[]:o;t.listClass=n,t.form.dict_type_id=e,t.dialogVisible=!0}))},handleCreate:function(){var e=this;this.loading=!0,this.error={},!0===this.form.statusShow?this.form.status=1:this.form.status=0,!0===this.form.defaultShow?this.form.default=1:this.form.default=0,Object(r["b"])(this.form).then((function(t){e.$message({showClose:!0,message:t.message,type:"success"}),e.$refs.form.resetFields(),e.$emit("createDone",t.data)})).catch((function(t){var a=t.response.data;if(422===a.code)for(var o in a.data)e.error[o]=a.data[o].toString()})).finally((function(t){e.loading=!1}))}}},s=i,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"361edb8a",null);t["default"]=c.exports},fb65:function(e,t,a){"use strict";a("3ea5")},feca:function(e,t,a){var o={"./activeLog/activeLogs.vue":"76c3","./admin/admins.vue":"4cd1","./admin/syncPermissions.vue":"ac76","./admin/syncRoles.vue":"5c1b","./dashboard/index.vue":"9406","./dict/create.vue":"7756","./dict/data/create.vue":"f70d","./dict/data/index.vue":"55bf","./dict/data/update.vue":"c783","./dict/index.vue":"3225","./dict/update.vue":"2fcb","./error-page/401.vue":"24e2","./error-page/404.vue":"1db4","./error-page/503.vue":"4d14","./exceptionError/exceptionErrors.vue":"983a","./exceptionError/logFiles.vue":"3cce","./file/files.vue":"4c6c","./file/help.vue":"0fd3","./file/uploadFile.vue":"a39b","./genTable/create.vue":"5134","./genTable/index.vue":"a5f0","./genTable/update.vue":"29f2","./login/auth-redirect.vue":"b829","./login/components/SocialSignin.vue":"c62e","./login/index.vue":"9ed6","./nginx/logs.vue":"7fb7","./notification/index.vue":"87cd","./notification/info.vue":"7b0d","./notification/send.vue":"b61c","./permission/create.vue":"7f1b","./permission/help.vue":"0415","./permission/permissions.vue":"1297","./permission/update.vue":"d02c","./profile/index.vue":"ecac","./profile/nav/index.vue":"a6dd","./redirect/index.vue":"ef3c","./role/roles.vue":"a1ea","./role/syncPermissions.vue":"56bd","./rview.vue":"8cc3","./system/aliOss.vue":"8f99","./system/config.vue":"97d1","./system/dingTalkLogin.vue":"1d62","./system/wechatLogin.vue":"9849","./system/wechatPay.vue":"f21b","./system/wechatPayTest.vue":"cd63","./user/users.vue":"b833","./websocket/index.vue":"7416"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id="feca"},ff0a:function(e,t,a){"use strict";a("81c6")}}]);